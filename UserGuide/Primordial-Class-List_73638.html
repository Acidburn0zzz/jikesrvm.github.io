<!DOCTYPE html>
<html>
    <head>
        <title>RVM : Primordial Class List</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RVM</a></span>
                            </li>
                                                    <li>
                                <span><a href="User-Guide_73933.html">User Guide</a></span>
                            </li>
                                                    <li>
                                <span><a href="Care-and-Feeding_73910.html">Care and Feeding</a></span>
                            </li>
                                                    <li>
                                <span><a href="Building-the-RVM_71513.html">Building the RVM</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RVM : Primordial Class List
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> Peter Donald</span>, last modified by <span class='editor'> David Grove</span> on May 29, 2008
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>The primordial class list indicates which classes should be compiled and baked into the boot image. The bare minimum set of classes needed in the primordial list includes;</p>
<ol>
	<li>All classes that are needed to load a class from the file system. The class may need to be loaded as a single class file or out of a jar. Failing this there will be an infinite regress on the first class load.</li>
	<li>All classes that are needed by the baseline compiler to compile any method. Failing this we regress when attempting to compile a method so we can execute it.</li>
	<li>Enough of the core VM services and data structures, and class library (java.*) to support the above. This includes threading, memory management, runtime support for compiled code, etc.</li>
</ol>


<p>For increased performance and decreased startup time it is possible to include extra classes that are expected to be needed. i.e. the optimizing compiler or the adaptive system. There are some pieces of these components that would be awkward to load dynamically (there's a core subset of the opt compiler, the classes in the org.jikesrvm.compilers.opt.runtimesupport packages, the must be loaded and fully compiled before any opt-compiled code can be allowed to executed), but it's theoretically possible to do so.</p>

<p>If you took a full closure of the classes referenced by things that have to be in the bootimage you'd actually end up with a lot more in the bootimage than we currently have.  The culprit here would I think mainly be java.* classes that we need in the bootimage, but only use in restricted ways, so we don't actually have to drag in everything they depend on to meet the &quot;real&quot; constraints of what has to go in the bootimage.  It is unknown how much difference there is between hand-crafted include lists and what an automated tool would discover.</p>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Apr 01, 2015 16:25</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
