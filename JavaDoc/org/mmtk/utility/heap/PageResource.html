<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>PageResource (Jikes RVM API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PageResource (Jikes RVM API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PageResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html" title="class in org.mmtk.utility.heap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/mmtk/utility/heap/SpaceDescriptor.html" title="class in org.mmtk.utility.heap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mmtk/utility/heap/PageResource.html" target="_top">Frames</a></li>
<li><a href="PageResource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.mmtk.utility.heap</div>
<h2 title="Class PageResource" class="title">Class PageResource</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.mmtk.utility.heap.PageResource</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/mmtk/utility/Constants.html" title="interface in org.mmtk.utility">Constants</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html" title="class in org.mmtk.utility.heap">FreeListPageResource</a>, <a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html" title="class in org.mmtk.utility.heap">MonotonePageResource</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.39">PageResource</a>
extends <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../org/mmtk/utility/Constants.html" title="interface in org.mmtk.utility">Constants</a></pre>
<div class="block">This class manages the allocation of pages for a space.  When a
 page is requested by the space both a page budget and the use of
 virtual address space are checked.  If the request for space can't
 be satisfied (for either reason) a GC may be triggered.<p>

 This class is abstract, and is subclassed with monotone and
 freelist variants, which reflect monotonic and ad hoc space usage
 respectively.  Monotonic use is easier to manage, but is obviously
 more restrictive (useful for copying collectors which allocate
 monotonically before freeing the entire space and starting over).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../org/mmtk/vm/Lock.html" title="class in org.mmtk.vm">Lock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#classLock">classLock</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#committed">committed</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#contiguous">contiguous</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#cumulativeCommitted">cumulativeCommitted</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/mmtk/vm/Lock.html" title="class in org.mmtk.vm">Lock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#lock">lock</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#reserved">reserved</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#space">space</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#start">start</a></strong></code>
<div class="block">only for contiguous spaces</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#ZERO_ON_RELEASE">ZERO_ON_RELEASE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroConcurrent">zeroConcurrent</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/mmtk/utility/heap/ConcurrentZeroingContext.html" title="class in org.mmtk.utility.heap">ConcurrentZeroingContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroingContext">zeroingContext</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroNT">zeroNT</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.mmtk.utility.Constants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.mmtk.utility.<a href="../../../../org/mmtk/utility/Constants.html" title="interface in org.mmtk.utility">Constants</a></h3>
<code><a href="../../../../org/mmtk/utility/Constants.html#ALIGNMENT_VALUE">ALIGNMENT_VALUE</a>, <a href="../../../../org/mmtk/utility/Constants.html#ARRAY_ELEMENT">ARRAY_ELEMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_ADDRESS">BITS_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_BYTE">BITS_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_CHAR">BITS_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_INT">BITS_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_PAGE">BITS_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_SHORT">BITS_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_WORD">BITS_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_ADDRESS">BYTES_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_BYTE">BYTES_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_CHAR">BYTES_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_INT">BYTES_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_KBYTE">BYTES_IN_KBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_MBYTE">BYTES_IN_MBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_PAGE">BYTES_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_SHORT">BYTES_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_WORD">BYTES_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#CARD_MASK">CARD_MASK</a>, <a href="../../../../org/mmtk/utility/Constants.html#CARD_META_PAGES_PER_REGION">CARD_META_PAGES_PER_REGION</a>, <a href="../../../../org/mmtk/utility/Constants.html#INSTANCE_FIELD">INSTANCE_FIELD</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_ADDRESS">LOG_BITS_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_BYTE">LOG_BITS_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_CHAR">LOG_BITS_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_INT">LOG_BITS_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_PAGE">LOG_BITS_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_SHORT">LOG_BITS_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_WORD">LOG_BITS_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_ADDRESS">LOG_BYTES_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_ADDRESS_SPACE">LOG_BYTES_IN_ADDRESS_SPACE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_BYTE">LOG_BYTES_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_CHAR">LOG_BYTES_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_INT">LOG_BYTES_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_KBYTE">LOG_BYTES_IN_KBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_MBYTE">LOG_BYTES_IN_MBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_PAGE">LOG_BYTES_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_SHORT">LOG_BYTES_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_WORD">LOG_BYTES_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_BYTES">LOG_CARD_BYTES</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_GRAIN">LOG_CARD_GRAIN</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_META_BYTES">LOG_CARD_META_BYTES</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_META_PAGES">LOG_CARD_META_PAGES</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_META_SIZE">LOG_CARD_META_SIZE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_UNITS">LOG_CARD_UNITS</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_MIN_ALIGNMENT">LOG_MIN_ALIGNMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MAX_ALIGNMENT">MAX_ALIGNMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MAX_BYTES_PADDING">MAX_BYTES_PADDING</a>, <a href="../../../../org/mmtk/utility/Constants.html#MAX_INT">MAX_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MIN_ALIGNMENT">MIN_ALIGNMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MIN_INT">MIN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#SUPPORT_CARD_SCANNING">SUPPORT_CARD_SCANNING</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private)</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#PageResource(org.mmtk.policy.Space)">PageResource</a></strong>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space)</code>
<div class="block">Constructor for discontiguous spaces</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private)</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#PageResource(org.mmtk.policy.Space,%20org.vmmagic.unboxed.Address)">PageResource</a></strong>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                        <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start)</code>
<div class="block">Constructor for contiguous spaces</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#PageResource(org.mmtk.policy.Space,%20boolean)">PageResource</a></strong>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                        boolean&nbsp;contiguous)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#addToCommitted(int)">addToCommitted</a></strong>(int&nbsp;pages)</code>
<div class="block">Add to the total cumulative committed page count.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#adjustForMetaData(int)">adjustForMetaData</a></strong>(int&nbsp;pages)</code>
<div class="block">Adjust a page request to include metadata requirements for a request
 of the given size.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) abstract <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#allocPages(int,%20int,%20boolean)">allocPages</a></strong>(int&nbsp;reservedPages,
                    int&nbsp;requiredPages,
                    boolean&nbsp;zeroed)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#clearRequest(int)">clearRequest</a></strong>(int&nbsp;reservedPages)</code>
<div class="block">Remove a request to the space.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#commitPages(int,%20int)">commitPages</a></strong>(int&nbsp;reservedPages,
                      int&nbsp;actualPages)</code>
<div class="block">Commit pages to the page budget.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#committedPages()">committedPages</a></strong>()</code>
<div class="block">Return the number of committed pages</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#concurrentZeroing()">concurrentZeroing</a></strong>()</code>
<div class="block">The entry point for the concurrent zeroing context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#cumulativeCommittedPages()">cumulativeCommittedPages</a></strong>()</code>
<div class="block">Return the cumulative number of committed pages</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#getAvailablePhysicalPages()">getAvailablePhysicalPages</a></strong>()</code>
<div class="block">Return the number of available physical pages for this resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#getNewPages(int,%20int,%20boolean)">getNewPages</a></strong>(int&nbsp;pagesReserved,
                      int&nbsp;pages,
                      boolean&nbsp;zeroed)</code>
<div class="block">Allocate pages in virtual memory, returning zero on failure.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#lock()">lock</a></strong>()</code>
<div class="block">Acquire the lock.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#reservedPages()">reservedPages</a></strong>()</code>
<div class="block">Return the number of reserved pages</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#reservePages(int)">reservePages</a></strong>(int&nbsp;pages)</code>
<div class="block">Reserve pages.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#skipConcurrentZeroing()">skipConcurrentZeroing</a></strong>()</code>
<div class="block">Skip concurrent zeroing (fall back to bulk zeroing).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#triggerConcurrentZeroing()">triggerConcurrentZeroing</a></strong>()</code>
<div class="block">Trigger concurrent zeroing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#unlock()">unlock</a></strong>()</code>
<div class="block">Release the lock.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/PageResource.html#updateZeroingApproach(boolean,%20boolean)">updateZeroingApproach</a></strong>(boolean&nbsp;nontemporal,
                                          boolean&nbsp;concurrent)</code>
<div class="block">Update the zeroing approach for this page resource.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ZERO_ON_RELEASE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ZERO_ON_RELEASE</h4>
<pre>protected static final&nbsp;boolean <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.49">ZERO_ON_RELEASE</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.mmtk.utility.heap.PageResource.ZERO_ON_RELEASE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="classLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>classLock</h4>
<pre>private static final&nbsp;<a href="../../../../org/mmtk/vm/Lock.html" title="class in org.mmtk.vm">Lock</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.51">classLock</a></pre>
</li>
</ul>
<a name="cumulativeCommitted">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cumulativeCommitted</h4>
<pre>private static&nbsp;long <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.52">cumulativeCommitted</a></pre>
</li>
</ul>
<a name="reserved">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserved</h4>
<pre>protected&nbsp;int <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.65">reserved</a></pre>
</li>
</ul>
<a name="committed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>committed</h4>
<pre>protected&nbsp;int <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.66">committed</a></pre>
</li>
</ul>
<a name="contiguous">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contiguous</h4>
<pre>protected final&nbsp;boolean <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.68">contiguous</a></pre>
</li>
</ul>
<a name="space">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>space</h4>
<pre>protected final&nbsp;<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.69">space</a></pre>
</li>
</ul>
<a name="start">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>protected&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.72">start</a></pre>
<div class="block">only for contiguous spaces</div>
</li>
</ul>
<a name="lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>private final&nbsp;<a href="../../../../org/mmtk/vm/Lock.html" title="class in org.mmtk.vm">Lock</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.75">lock</a></pre>
</li>
</ul>
<a name="zeroNT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zeroNT</h4>
<pre>protected&nbsp;boolean <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.78">zeroNT</a></pre>
</li>
</ul>
<a name="zeroConcurrent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zeroConcurrent</h4>
<pre>protected&nbsp;boolean <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.79">zeroConcurrent</a></pre>
</li>
</ul>
<a name="zeroingContext">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>zeroingContext</h4>
<pre>protected&nbsp;<a href="../../../../org/mmtk/utility/heap/ConcurrentZeroingContext.html" title="class in org.mmtk.utility.heap">ConcurrentZeroingContext</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.80">zeroingContext</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PageResource(org.mmtk.policy.Space, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PageResource</h4>
<pre>private&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.96">PageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
            boolean&nbsp;contiguous)</pre>
<div class="block">Constructor</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>space</code> - The space to which this resource is attached</dd></dl>
</li>
</ul>
<a name="PageResource(org.mmtk.policy.Space)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PageResource</h4>
<pre><a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.107">PageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space)</pre>
<div class="block">Constructor for discontiguous spaces</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>space</code> - The space to which this resource is attached</dd></dl>
</li>
</ul>
<a name="PageResource(org.mmtk.policy.Space, org.vmmagic.unboxed.Address)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PageResource</h4>
<pre><a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.116">PageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
            <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start)</pre>
<div class="block">Constructor for contiguous spaces</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>space</code> - The space to which this resource is attached</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAvailablePhysicalPages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAvailablePhysicalPages</h4>
<pre>public abstract&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.140">getAvailablePhysicalPages</a>()</pre>
<div class="block">Return the number of available physical pages for this resource.
 This includes all pages currently unused by this resource's page
 cursor. If the resource is using discontiguous space it also includes
 currently unassigned discontiguous space.<p>

 Note: This just considers physical pages (ie virtual memory pages
 allocated for use by this resource). This calculation is orthogonal
 to and does not consider any restrictions on the number of pages
 this resource may actually use at any time (ie the number of
 committed and reserved pages).<p>

 Note: The calculation is made on the assumption that all space that
 could be assigned to this resource would be assigned to this resource
 (ie the unused discontiguous space could just as likely be assigned
 to another competing resource).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of available physical pages for this resource.</dd></dl>
</li>
</ul>
<a name="reservePages(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reservePages</h4>
<pre>public final&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.154">reservePages</a>(int&nbsp;pages)</pre>
<div class="block">Reserve pages.<p>

 The role of reserving pages is that it allows the request to be
 noted as pending (the difference between committed and reserved
 indicates pending requests).  If the request would exceed the
 page budget then the caller must poll in case a GC is necessary.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pages</code> - The number of pages requested</dd>
<dt><span class="strong">Returns:</span></dt><dd>The actual number of pages reserved (including metadata, etc.)</dd></dl>
</li>
</ul>
<a name="clearRequest(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearRequest</h4>
<pre>public final&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.168">clearRequest</a>(int&nbsp;reservedPages)</pre>
<div class="block">Remove a request to the space.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reservedPages</code> - The number of pages returned due to the request.</dd></dl>
</li>
</ul>
<a name="updateZeroingApproach(boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateZeroingApproach</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.178">updateZeroingApproach</a>(boolean&nbsp;nontemporal,
                         boolean&nbsp;concurrent)</pre>
<div class="block">Update the zeroing approach for this page resource.</div>
</li>
</ul>
<a name="skipConcurrentZeroing()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipConcurrentZeroing</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.191">skipConcurrentZeroing</a>()</pre>
<div class="block">Skip concurrent zeroing (fall back to bulk zeroing).</div>
</li>
</ul>
<a name="triggerConcurrentZeroing()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>triggerConcurrentZeroing</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.199">triggerConcurrentZeroing</a>()</pre>
<div class="block">Trigger concurrent zeroing.</div>
</li>
</ul>
<a name="concurrentZeroing()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>concurrentZeroing</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.207">concurrentZeroing</a>()</pre>
<div class="block">The entry point for the concurrent zeroing context.</div>
</li>
</ul>
<a name="allocPages(int, int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocPages</h4>
<pre>abstract&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.211">allocPages</a>(int&nbsp;reservedPages,
                 int&nbsp;requiredPages,
                 boolean&nbsp;zeroed)</pre>
</li>
</ul>
<a name="adjustForMetaData(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustForMetaData</h4>
<pre>public abstract&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.221">adjustForMetaData</a>(int&nbsp;pages)</pre>
<div class="block">Adjust a page request to include metadata requirements for a request
 of the given size. This must be a pure function, that is it does not
 depend on the state of the PageResource.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pages</code> - The size of the pending allocation in pages</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of required pages, inclusive of any metadata</dd></dl>
</li>
</ul>
<a name="getNewPages(int, int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewPages</h4>
<pre>public final&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.240">getNewPages</a>(int&nbsp;pagesReserved,
                  int&nbsp;pages,
                  boolean&nbsp;zeroed)</pre>
<div class="block">Allocate pages in virtual memory, returning zero on failure.<p>

 If the request cannot be satisfied, zero is returned and it
 falls to the caller to trigger the GC.

 Call <code>allocPages</code> (subclass) to find the pages in
 virtual memory.  If successful then commit the pending page
 request and return the address of the first page.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pagesReserved</code> - The number of pages reserved by the initial request</dd><dd><code>pages</code> - The number of pages requested</dd><dd><code>zeroed</code> - If true allocated pages are zeroed.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The address of the first of <code>pages</code> pages, or
 zero on failure.</dd></dl>
</li>
</ul>
<a name="commitPages(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitPages</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.257">commitPages</a>(int&nbsp;reservedPages,
               int&nbsp;actualPages)</pre>
<div class="block">Commit pages to the page budget.  This is called after
 successfully determining that the request can be satisfied by
 both the page budget and virtual memory.  This simply accounts
 for the discrepancy between <code>committed</code> and
 <code>reserved</code> while the request was pending.

 This *MUST* be called by each PageResource during the
 allocPages, and the caller must hold the lock.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reservedPages</code> - The number of pages initially reserved due to this request</dd><dd><code>actualPages</code> - The number of pages actually allocated.</dd></dl>
</li>
</ul>
<a name="reservedPages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reservedPages</h4>
<pre>public final&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.272">reservedPages</a>()</pre>
<div class="block">Return the number of reserved pages</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of reserved pages.</dd></dl>
</li>
</ul>
<a name="committedPages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>committedPages</h4>
<pre>public final&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.279">committedPages</a>()</pre>
<div class="block">Return the number of committed pages</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of committed pages.</dd></dl>
</li>
</ul>
<a name="cumulativeCommittedPages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cumulativeCommittedPages</h4>
<pre>public static&nbsp;long&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.286">cumulativeCommittedPages</a>()</pre>
<div class="block">Return the cumulative number of committed pages</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The cumulative number of committed pages.</dd></dl>
</li>
</ul>
<a name="addToCommitted(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToCommitted</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.293">addToCommitted</a>(int&nbsp;pages)</pre>
<div class="block">Add to the total cumulative committed page count.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pages</code> - The number of pages to be added.</dd></dl>
</li>
</ul>
<a name="lock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>protected final&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.302">lock</a>()</pre>
<div class="block">Acquire the lock.</div>
</li>
</ul>
<a name="unlock()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>unlock</h4>
<pre>protected final&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.309">unlock</a>()</pre>
<div class="block">Release the lock.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PageResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html" title="class in org.mmtk.utility.heap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/mmtk/utility/heap/SpaceDescriptor.html" title="class in org.mmtk.utility.heap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mmtk/utility/heap/PageResource.html" target="_top">Frames</a></li>
<li><a href="PageResource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
