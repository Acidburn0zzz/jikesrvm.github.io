<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>JNIEnvironment (Jikes RVM API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="JNIEnvironment (Jikes RVM API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JNIEnvironment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jikesrvm/jni/JNICompiledMethod.html" title="class in org.jikesrvm.jni"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jikesrvm/jni/JNIFunctions.html" title="class in org.jikesrvm.jni"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jikesrvm/jni/JNIEnvironment.html" target="_top">Frames</a></li>
<li><a href="JNIEnvironment.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jikesrvm.jni</div>
<h2 title="Class JNIEnvironment" class="title">Class JNIEnvironment</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.jikesrvm.jni.JNIEnvironment</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../org/jikesrvm/SizeConstants.html" title="interface in org.jikesrvm">SizeConstants</a></dd>
</dl>
<hr>
<br>
<pre>public final class <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.40">JNIEnvironment</a>
extends <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../org/jikesrvm/SizeConstants.html" title="interface in org.jikesrvm">SizeConstants</a></pre>
<div class="block">A JNIEnvironment is created for each Java thread.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#alwaysHasNativeFrame">alwaysHasNativeFrame</a></strong></code>
<div class="block">true if the bottom stack frame is native,
 such as thread for CreateJVM or AttachCurrentThread</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#basePointerOnEntryToNative">basePointerOnEntryToNative</a></strong></code>
<div class="block">When native code doesn't maintain a base pointer we can't chain
 through the base pointers when walking the stack.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#externalJNIFunctions">externalJNIFunctions</a></strong></code>
<div class="block">This is the pointer to the shared JNIFunction table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#hasPendingException">hasPendingException</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../org/jikesrvm/jni/FunctionTable.html" title="class in org.jikesrvm.jni">FunctionTable</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNIFunctions">JNIFunctions</a></strong></code>
<div class="block">This is the shared JNI function table used by native code
 to invoke methods in @link{JNIFunctions}.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/vmmagic/unboxed/AddressArray.html" title="class in org.vmmagic.unboxed">AddressArray</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNIRefs">JNIRefs</a></strong></code>
<div class="block">references passed to native code</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNIREFS_ARRAY_LENGTH">JNIREFS_ARRAY_LENGTH</a></strong></code>
<div class="block">initial size for JNI refs, later grow as needed</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNIREFS_FUDGE_LENGTH">JNIREFS_FUDGE_LENGTH</a></strong></code>
<div class="block">sometimes we put stuff onto the jnirefs array bypassing the code
 that makes sure that it does not overflow (evil assembly code in the
 jni stubs that would be painful to fix).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNIRefsMax">JNIRefsMax</a></strong></code>
<div class="block">Offset of end (last entry) of JNIRefs array</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNIRefsSavedFP">JNIRefsSavedFP</a></strong></code>
<div class="block">Previous frame boundary in JNIRefs array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../org/vmmagic/unboxed/AddressArray.html" title="class in org.vmmagic.unboxed">AddressArray</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNIRefsShadow">JNIRefsShadow</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNIRefsTop">JNIRefsTop</a></strong></code>
<div class="block">Offset of current top ref in JNIRefs array</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNITopJavaFP">JNITopJavaFP</a></strong></code>
<div class="block">When transitioning between Java and C and back, we may want to stop a thread
 returning into Java and executing mutator code when a GC is in progress.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../org/jikesrvm/jni/LinkageTripletTable.html" title="class in org.jikesrvm.jni">LinkageTripletTable</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#LinkageTriplets">LinkageTriplets</a></strong></code>
<div class="block">For the PowerOpenABI we need a linkage triple instead of just
 a function pointer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#pendingException">pendingException</a></strong></code>
<div class="block">Currently pending exception (null if none)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#savedJTOC">savedJTOC</a></strong></code>
<div class="block">For saving JTOC register on entry to native,
 to be restored on JNI call from native (only used on PowerPC)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../org/jikesrvm/scheduler/RVMThread.html" title="class in org.jikesrvm.scheduler">RVMThread</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#savedTRreg">savedTRreg</a></strong></code>
<div class="block">For saving processor register on entry to native,
 to be restored on JNI call from native</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.jikesrvm.SizeConstants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.jikesrvm.<a href="../../../org/jikesrvm/SizeConstants.html" title="interface in org.jikesrvm">SizeConstants</a></h3>
<code><a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_ADDRESS">BITS_IN_ADDRESS</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_BOOLEAN">BITS_IN_BOOLEAN</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_BYTE">BITS_IN_BYTE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_CHAR">BITS_IN_CHAR</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_DOUBLE">BITS_IN_DOUBLE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_EXTENT">BITS_IN_EXTENT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_FLOAT">BITS_IN_FLOAT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_INT">BITS_IN_INT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_LONG">BITS_IN_LONG</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_OFFSET">BITS_IN_OFFSET</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_PAGE">BITS_IN_PAGE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_SHORT">BITS_IN_SHORT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BITS_IN_WORD">BITS_IN_WORD</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_ADDRESS">BYTES_IN_ADDRESS</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_BOOLEAN">BYTES_IN_BOOLEAN</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_BYTE">BYTES_IN_BYTE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_CHAR">BYTES_IN_CHAR</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_DOUBLE">BYTES_IN_DOUBLE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_EXTENT">BYTES_IN_EXTENT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_FLOAT">BYTES_IN_FLOAT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_INT">BYTES_IN_INT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_LONG">BYTES_IN_LONG</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_OFFSET">BYTES_IN_OFFSET</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_PAGE">BYTES_IN_PAGE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_SHORT">BYTES_IN_SHORT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#BYTES_IN_WORD">BYTES_IN_WORD</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_ADDRESS">LOG_BITS_IN_ADDRESS</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_BOOLEAN">LOG_BITS_IN_BOOLEAN</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_BYTE">LOG_BITS_IN_BYTE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_CHAR">LOG_BITS_IN_CHAR</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_DOUBLE">LOG_BITS_IN_DOUBLE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_EXTENT">LOG_BITS_IN_EXTENT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_FLOAT">LOG_BITS_IN_FLOAT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_INT">LOG_BITS_IN_INT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_LONG">LOG_BITS_IN_LONG</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_OFFSET">LOG_BITS_IN_OFFSET</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_PAGE">LOG_BITS_IN_PAGE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_SHORT">LOG_BITS_IN_SHORT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BITS_IN_WORD">LOG_BITS_IN_WORD</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_ADDRESS">LOG_BYTES_IN_ADDRESS</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_BOOLEAN">LOG_BYTES_IN_BOOLEAN</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_BYTE">LOG_BYTES_IN_BYTE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_CHAR">LOG_BYTES_IN_CHAR</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_DOUBLE">LOG_BYTES_IN_DOUBLE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_EXTENT">LOG_BYTES_IN_EXTENT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_FLOAT">LOG_BYTES_IN_FLOAT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_INT">LOG_BYTES_IN_INT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_LONG">LOG_BYTES_IN_LONG</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_OFFSET">LOG_BYTES_IN_OFFSET</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_PAGE">LOG_BYTES_IN_PAGE</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_SHORT">LOG_BYTES_IN_SHORT</a>, <a href="../../../org/jikesrvm/SizeConstants.html#LOG_BYTES_IN_WORD">LOG_BYTES_IN_WORD</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#JNIEnvironment()">JNIEnvironment</a></strong>()</code>
<div class="block">Initialize a thread specific JNI environment.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#boot()">boot</a></strong>()</code>
<div class="block">Initialization required during VM booting; only does something if
 we are on a platform that needs linkage triplets.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#checkPush(java.lang.Object,%20boolean)">checkPush</a></strong>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;ref,
                  boolean&nbsp;canGrow)</code>
<div class="block">Check push of reference can succeed</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#deleteJNIRef(int)">deleteJNIRef</a></strong>(int&nbsp;offset)</code>
<div class="block">Remove a reference from the JNIRefs stack.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#dumpJniRefsStack()">dumpJniRefsStack</a></strong>()</code>
<div class="block">Dump the JNIRefs stack to the sysWrite stream</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#entryToJNI(int)">entryToJNI</a></strong>(int&nbsp;encodedReferenceOffsets)</code>
<div class="block">Save data and perform necessary conversions for entry into JNI.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#exitFromJNI(int)">exitFromJNI</a></strong>(int&nbsp;offset)</code>
<div class="block">Restore data, throw pending exceptions or convert return value for exit
 from JNI.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#getException()">getException</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#getJNIRef(int)">getJNIRef</a></strong>(int&nbsp;offset)</code>
<div class="block">Get a reference from the JNIRefs stack.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#hasNativeStackFrame()">hasNativeStackFrame</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#initFunctionTable(org.jikesrvm.jni.FunctionTable)">initFunctionTable</a></strong>(<a href="../../../org/jikesrvm/jni/FunctionTable.html" title="class in org.jikesrvm.jni">FunctionTable</a>&nbsp;functions)</code>
<div class="block">Initialize the array of JNI functions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#pushJNIRef(java.lang.Object)">pushJNIRef</a></strong>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;ref)</code>
<div class="block">Push a reference onto thread local JNIRefs stack.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#recordException(java.lang.Throwable)">recordException</a></strong>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;e)</code>
<div class="block">Record an exception as pending so that it will be delivered on the return
 to the Java caller;  clear the exception by recording null</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/vmmagic/unboxed/AddressArray.html" title="class in org.vmmagic.unboxed">AddressArray</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#refsArray()">refsArray</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#refsTop()">refsTop</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#replaceJNIRefs(org.vmmagic.unboxed.AddressArray)">replaceJNIRefs</a></strong>(<a href="../../../org/vmmagic/unboxed/AddressArray.html" title="class in org.vmmagic.unboxed">AddressArray</a>&nbsp;newrefs)</code>
<div class="block">Atomically copy and install a new JNIRefArray</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#savedRefsFP()">savedRefsFP</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#throwPendingException()">throwPendingException</a></strong>()</code>
<div class="block">Return and clear the (known to be non-null) pending exception.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#topJavaFP()">topJavaFP</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/jni/JNIEnvironment.html#uninterruptiblePushJNIRef(org.vmmagic.unboxed.Address,%20boolean)">uninterruptiblePushJNIRef</a></strong>(<a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;ref,
                                                  boolean&nbsp;isRef)</code>
<div class="block">Push a JNI ref, used on entry to JNI
 NB only used for Intel</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="JNIREFS_ARRAY_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JNIREFS_ARRAY_LENGTH</h4>
<pre>protected static final&nbsp;int <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.45">JNIREFS_ARRAY_LENGTH</a></pre>
<div class="block">initial size for JNI refs, later grow as needed</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.jikesrvm.jni.JNIEnvironment.JNIREFS_ARRAY_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="JNIREFS_FUDGE_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JNIREFS_FUDGE_LENGTH</h4>
<pre>protected static final&nbsp;int <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.54">JNIREFS_FUDGE_LENGTH</a></pre>
<div class="block">sometimes we put stuff onto the jnirefs array bypassing the code
 that makes sure that it does not overflow (evil assembly code in the
 jni stubs that would be painful to fix).  So, we keep some space
 between the max value in JNIRefsMax and the actual size of the
 array.  How much is governed by this field.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.jikesrvm.jni.JNIEnvironment.JNIREFS_FUDGE_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="JNIFunctions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JNIFunctions</h4>
<pre>public static&nbsp;<a href="../../../org/jikesrvm/jni/FunctionTable.html" title="class in org.jikesrvm.jni">FunctionTable</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.60">JNIFunctions</a></pre>
<div class="block">This is the shared JNI function table used by native code
 to invoke methods in @link{JNIFunctions}.</div>
</li>
</ul>
<a name="LinkageTriplets">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LinkageTriplets</h4>
<pre>public static&nbsp;<a href="../../../org/jikesrvm/jni/LinkageTripletTable.html" title="class in org.jikesrvm.jni">LinkageTripletTable</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.67">LinkageTriplets</a></pre>
<div class="block">For the PowerOpenABI we need a linkage triple instead of just
 a function pointer.
 This is an array of such triples that matches JNIFunctions.</div>
</li>
</ul>
<a name="externalJNIFunctions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>externalJNIFunctions</h4>
<pre>private final&nbsp;<a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.80">externalJNIFunctions</a></pre>
<div class="block">This is the pointer to the shared JNIFunction table.
 When we invoke a native method, we adjust the pointer we
 pass to the native code such that this field is at offset 0.
 In other words, we turn a JNIEnvironment into a JNIEnv*
 by handing the native code an interior pointer to
 this object that points directly to this field.</div>
</li>
</ul>
<a name="savedTRreg">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savedTRreg</h4>
<pre>protected&nbsp;<a href="../../../org/jikesrvm/scheduler/RVMThread.html" title="class in org.jikesrvm.scheduler">RVMThread</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.89">savedTRreg</a></pre>
<div class="block">For saving processor register on entry to native,
 to be restored on JNI call from native</div>
</li>
</ul>
<a name="savedJTOC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savedJTOC</h4>
<pre>private final&nbsp;<a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.97">savedJTOC</a></pre>
<div class="block">For saving JTOC register on entry to native,
 to be restored on JNI call from native (only used on PowerPC)</div>
</li>
</ul>
<a name="basePointerOnEntryToNative">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>basePointerOnEntryToNative</h4>
<pre>private&nbsp;<a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.107">basePointerOnEntryToNative</a></pre>
<div class="block">When native code doesn't maintain a base pointer we can't chain
 through the base pointers when walking the stack. This field
 holds the basePointer on entry to the native code in such a case,
 and is pushed onto the stack if we re-enter Java code (e.g. to
 handle a JNI function). This field is currently only used on IA32.</div>
</li>
</ul>
<a name="JNITopJavaFP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JNITopJavaFP</h4>
<pre>private&nbsp;<a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.118">JNITopJavaFP</a></pre>
<div class="block">When transitioning between Java and C and back, we may want to stop a thread
 returning into Java and executing mutator code when a GC is in progress.
 When in C code, the C code may never return. In these situations we need a
 frame pointer at which to begin scanning the stack. This field holds this
 value. NB. these fields don't chain together on the stack as we walk through
 native frames by knowing their return addresses are outside of our heaps</div>
</li>
</ul>
<a name="pendingException">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingException</h4>
<pre>private&nbsp;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.123">pendingException</a></pre>
<div class="block">Currently pending exception (null if none)</div>
</li>
</ul>
<a name="hasPendingException">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasPendingException</h4>
<pre>private&nbsp;int <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.124">hasPendingException</a></pre>
</li>
</ul>
<a name="alwaysHasNativeFrame">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alwaysHasNativeFrame</h4>
<pre>private&nbsp;boolean <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.130">alwaysHasNativeFrame</a></pre>
<div class="block">true if the bottom stack frame is native,
 such as thread for CreateJVM or AttachCurrentThread</div>
</li>
</ul>
<a name="JNIRefs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JNIRefs</h4>
<pre>public&nbsp;<a href="../../../org/vmmagic/unboxed/AddressArray.html" title="class in org.vmmagic.unboxed">AddressArray</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.137">JNIRefs</a></pre>
<div class="block">references passed to native code</div>
</li>
</ul>
<a name="JNIRefsShadow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JNIRefsShadow</h4>
<pre>private&nbsp;<a href="../../../org/vmmagic/unboxed/AddressArray.html" title="class in org.vmmagic.unboxed">AddressArray</a> <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.138">JNIRefsShadow</a></pre>
</li>
</ul>
<a name="JNIRefsTop">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JNIRefsTop</h4>
<pre>public&nbsp;int <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.144">JNIRefsTop</a></pre>
<div class="block">Offset of current top ref in JNIRefs array</div>
</li>
</ul>
<a name="JNIRefsMax">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JNIRefsMax</h4>
<pre>protected&nbsp;int <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.150">JNIRefsMax</a></pre>
<div class="block">Offset of end (last entry) of JNIRefs array</div>
</li>
</ul>
<a name="JNIRefsSavedFP">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JNIRefsSavedFP</h4>
<pre>public&nbsp;int <a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.157">JNIRefsSavedFP</a></pre>
<div class="block">Previous frame boundary in JNIRefs array.
 NB unused on IA32</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JNIEnvironment()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JNIEnvironment</h4>
<pre>public&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.163">JNIEnvironment</a>()</pre>
<div class="block">Initialize a thread specific JNI environment.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="hasNativeStackFrame()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasNativeStackFrame</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.175">hasNativeStackFrame</a>()</pre>
</li>
</ul>
<a name="topJavaFP()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>topJavaFP</h4>
<pre>public&nbsp;<a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.180">topJavaFP</a>()</pre>
</li>
</ul>
<a name="refsArray()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refsArray</h4>
<pre>public&nbsp;<a href="../../../org/vmmagic/unboxed/AddressArray.html" title="class in org.vmmagic.unboxed">AddressArray</a>&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.185">refsArray</a>()</pre>
</li>
</ul>
<a name="refsTop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refsTop</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.190">refsTop</a>()</pre>
</li>
</ul>
<a name="savedRefsFP()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savedRefsFP</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.195">savedRefsFP</a>()</pre>
</li>
</ul>
<a name="checkPush(java.lang.Object, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkPush</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.206">checkPush</a>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;ref,
             boolean&nbsp;canGrow)</pre>
<div class="block">Check push of reference can succeed</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ref</code> - object to be pushed</dd><dd><code>canGrow</code> - can the JNI reference array be grown?</dd></dl>
</li>
</ul>
<a name="pushJNIRef(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pushJNIRef</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.241">pushJNIRef</a>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;ref)</pre>
<div class="block">Push a reference onto thread local JNIRefs stack.
 To be used by JNI functions when returning a reference
 back to JNI native C code.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ref</code> - the object to put on stack</dd>
<dt><span class="strong">Returns:</span></dt><dd>offset of entry in JNIRefs stack</dd></dl>
</li>
</ul>
<a name="replaceJNIRefs(org.vmmagic.unboxed.AddressArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceJNIRefs</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.260">replaceJNIRefs</a>(<a href="../../../org/vmmagic/unboxed/AddressArray.html" title="class in org.vmmagic.unboxed">AddressArray</a>&nbsp;newrefs)</pre>
<div class="block">Atomically copy and install a new JNIRefArray</div>
</li>
</ul>
<a name="uninterruptiblePushJNIRef(org.vmmagic.unboxed.Address, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uninterruptiblePushJNIRef</h4>
<pre>private&nbsp;int&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.275">uninterruptiblePushJNIRef</a>(<a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;ref,
                            boolean&nbsp;isRef)</pre>
<div class="block">Push a JNI ref, used on entry to JNI
 NB only used for Intel</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ref</code> - reference to place on stack or value of saved frame pointer</dd><dd><code>isRef</code> - false if the reference isn't a frame pointer</dd></dl>
</li>
</ul>
<a name="entryToJNI(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>entryToJNI</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.298">entryToJNI</a>(int&nbsp;encodedReferenceOffsets)</pre>
<div class="block">Save data and perform necessary conversions for entry into JNI.
 NB only used for Intel.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>encodedReferenceOffsets</code> - bit mask marking which elements on the stack hold objects that need
          encoding as JNI ref identifiers</dd></dl>
</li>
</ul>
<a name="exitFromJNI(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exitFromJNI</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.352">exitFromJNI</a>(int&nbsp;offset)</pre>
<div class="block">Restore data, throw pending exceptions or convert return value for exit
 from JNI. NB only used for Intel.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>offset</code> - offset into JNI reference tables of result</dd>
<dt><span class="strong">Returns:</span></dt><dd>Object encoded by offset or null if offset is 0</dd></dl>
</li>
</ul>
<a name="getJNIRef(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJNIRef</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.385">getJNIRef</a>(int&nbsp;offset)</pre>
<div class="block">Get a reference from the JNIRefs stack.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>offset</code> - in JNIRefs stack</dd>
<dt><span class="strong">Returns:</span></dt><dd>reference at that offset</dd></dl>
</li>
</ul>
<a name="deleteJNIRef(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteJNIRef</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.406">deleteJNIRef</a>(int&nbsp;offset)</pre>
<div class="block">Remove a reference from the JNIRefs stack.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>offset</code> - in JNIRefs stack</dd></dl>
</li>
</ul>
<a name="dumpJniRefsStack()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dumpJniRefsStack</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.424">dumpJniRefsStack</a>()</pre>
<div class="block">Dump the JNIRefs stack to the sysWrite stream</div>
</li>
</ul>
<a name="recordException(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordException</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.450">recordException</a>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;e)</pre>
<div class="block">Record an exception as pending so that it will be delivered on the return
 to the Java caller;  clear the exception by recording null</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - An exception or error</dd></dl>
</li>
</ul>
<a name="throwPendingException()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>throwPendingException</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.463">throwPendingException</a>()</pre>
<div class="block">Return and clear the (known to be non-null) pending exception.</div>
</li>
</ul>
<a name="getException()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getException</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.475">getException</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the pending exception</dd></dl>
</li>
</ul>
<a name="initFunctionTable(org.jikesrvm.jni.FunctionTable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initFunctionTable</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.483">initFunctionTable</a>(<a href="../../../org/jikesrvm/jni/FunctionTable.html" title="class in org.jikesrvm.jni">FunctionTable</a>&nbsp;functions)</pre>
<div class="block">Initialize the array of JNI functions.
 This function is called during bootimage writing.</div>
</li>
</ul>
<a name="boot()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>boot</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/jni/JNIEnvironment.html#line.498">boot</a>()</pre>
<div class="block">Initialization required during VM booting; only does something if
 we are on a platform that needs linkage triplets.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JNIEnvironment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jikesrvm/jni/JNICompiledMethod.html" title="class in org.jikesrvm.jni"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jikesrvm/jni/JNIFunctions.html" title="class in org.jikesrvm.jni"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jikesrvm/jni/JNIEnvironment.html" target="_top">Frames</a></li>
<li><a href="JNIEnvironment.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
