<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>MonotonePageResource (Jikes RVM API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MonotonePageResource (Jikes RVM API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MonotonePageResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mmtk/utility/heap/Mmapper.html" title="class in org.mmtk.utility.heap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mmtk/utility/heap/MonotonePageResource.html" target="_top">Frames</a></li>
<li><a href="MonotonePageResource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.mmtk.utility.heap</div>
<h2 title="Class MonotonePageResource" class="title">Class MonotonePageResource</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">org.mmtk.utility.heap.PageResource</a></li>
<li>
<ul class="inheritance">
<li>org.mmtk.utility.heap.MonotonePageResource</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/mmtk/utility/Constants.html" title="interface in org.mmtk.utility">Constants</a></dd>
</dl>
<hr>
<br>
<pre>public final class <a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.36">MonotonePageResource</a>
extends <a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></pre>
<div class="block">This class manages the allocation of pages for a space.  When a
 page is requested by the space both a page budget and the use of
 virtual address space are checked.  If the request for space can't
 be satisfied (for either reason) a GC may be triggered.<p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#CONCURRENT_ZEROING_BLOCKSIZE">CONCURRENT_ZEROING_BLOCKSIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#currentChunk">currentChunk</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#cursor">cursor</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#metaDataPagesPerRegion">metaDataPagesPerRegion</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#sentinel">sentinel</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#zeroingCursor">zeroingCursor</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#zeroingSentinel">zeroingSentinel</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.mmtk.utility.heap.PageResource">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.mmtk.utility.heap.<a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></h3>
<code><a href="../../../../org/mmtk/utility/heap/PageResource.html#committed">committed</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#contiguous">contiguous</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#reserved">reserved</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#space">space</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#start">start</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#ZERO_ON_RELEASE">ZERO_ON_RELEASE</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroConcurrent">zeroConcurrent</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroingContext">zeroingContext</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroNT">zeroNT</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.mmtk.utility.Constants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.mmtk.utility.<a href="../../../../org/mmtk/utility/Constants.html" title="interface in org.mmtk.utility">Constants</a></h3>
<code><a href="../../../../org/mmtk/utility/Constants.html#ALIGNMENT_VALUE">ALIGNMENT_VALUE</a>, <a href="../../../../org/mmtk/utility/Constants.html#ARRAY_ELEMENT">ARRAY_ELEMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_ADDRESS">BITS_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_BYTE">BITS_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_CHAR">BITS_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_INT">BITS_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_PAGE">BITS_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_SHORT">BITS_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_WORD">BITS_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_ADDRESS">BYTES_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_BYTE">BYTES_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_CHAR">BYTES_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_INT">BYTES_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_KBYTE">BYTES_IN_KBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_MBYTE">BYTES_IN_MBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_PAGE">BYTES_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_SHORT">BYTES_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_WORD">BYTES_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#CARD_MASK">CARD_MASK</a>, <a href="../../../../org/mmtk/utility/Constants.html#CARD_META_PAGES_PER_REGION">CARD_META_PAGES_PER_REGION</a>, <a href="../../../../org/mmtk/utility/Constants.html#INSTANCE_FIELD">INSTANCE_FIELD</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_ADDRESS">LOG_BITS_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_BYTE">LOG_BITS_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_CHAR">LOG_BITS_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_INT">LOG_BITS_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_PAGE">LOG_BITS_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_SHORT">LOG_BITS_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_WORD">LOG_BITS_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_ADDRESS">LOG_BYTES_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_ADDRESS_SPACE">LOG_BYTES_IN_ADDRESS_SPACE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_BYTE">LOG_BYTES_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_CHAR">LOG_BYTES_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_INT">LOG_BYTES_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_KBYTE">LOG_BYTES_IN_KBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_MBYTE">LOG_BYTES_IN_MBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_PAGE">LOG_BYTES_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_SHORT">LOG_BYTES_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_WORD">LOG_BYTES_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_BYTES">LOG_CARD_BYTES</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_GRAIN">LOG_CARD_GRAIN</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_META_BYTES">LOG_CARD_META_BYTES</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_META_PAGES">LOG_CARD_META_PAGES</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_META_SIZE">LOG_CARD_META_SIZE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_UNITS">LOG_CARD_UNITS</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_MIN_ALIGNMENT">LOG_MIN_ALIGNMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MAX_ALIGNMENT">MAX_ALIGNMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MAX_BYTES_PADDING">MAX_BYTES_PADDING</a>, <a href="../../../../org/mmtk/utility/Constants.html#MAX_INT">MAX_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MIN_ALIGNMENT">MIN_ALIGNMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MIN_INT">MIN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#SUPPORT_CARD_SCANNING">SUPPORT_CARD_SCANNING</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#MonotonePageResource(org.mmtk.policy.Space,%20org.vmmagic.unboxed.Address,%20org.vmmagic.unboxed.Extent,%20int)">MonotonePageResource</a></strong>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                                        <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start,
                                        <a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;bytes,
                                        int&nbsp;metaDataPagesPerRegion)</code>
<div class="block">Constructor

 Contiguous monotone resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#MonotonePageResource(org.mmtk.policy.Space,%20int)">MonotonePageResource</a></strong>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                                        int&nbsp;metaDataPagesPerRegion)</code>
<div class="block">Constructor

 Discontiguous monotone resource.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#adjustForMetaData(int)">adjustForMetaData</a></strong>(int&nbsp;pages)</code>
<div class="block">Adjust a page request to include metadata requirements for a request
 of the given size.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#adjustForMetaData(int,%20org.vmmagic.unboxed.Address)">adjustForMetaData</a></strong>(int&nbsp;pages,
                                  <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;begin)</code>
<div class="block">Adjust a page request to include metadata requirements, if any.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#allocPages(int,%20int,%20boolean)">allocPages</a></strong>(int&nbsp;reservedPages,
                    int&nbsp;requiredPages,
                    boolean&nbsp;zeroed)</code>
<div class="block">Allocate <code>pages</code> pages from this resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#concurrentZeroing()">concurrentZeroing</a></strong>()</code>
<div class="block">The entry point for the concurrent zeroing context.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#getAvailablePhysicalPages()">getAvailablePhysicalPages</a></strong>()</code>
<div class="block">Return the number of available physical pages for this resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#getRegionStart(org.vmmagic.unboxed.Address)">getRegionStart</a></strong>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;addr)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#moveToNextChunk()">moveToNextChunk</a></strong>()</code>
<div class="block">Adjust the currentChunk and cursor fields to point to the next chunk
 in the linked list of chunks tied down by this page resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#releasePages()">releasePages</a></strong>()</code>
<div class="block">Release all pages associated with this page resource, optionally
 zeroing on release and optionally memory protecting on release.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#releasePages(org.vmmagic.unboxed.Address,%20org.vmmagic.unboxed.Extent)">releasePages</a></strong>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;first,
                        <a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;bytes)</code>
<div class="block">Release a range of pages associated with this page resource, optionally
 zeroing on release and optionally memory protecting on release.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#reset()">reset</a></strong>()</code>
<div class="block">Reset this page resource, freeing all pages and resetting
 reserved and committed pages appropriately.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#reusePages(int)">reusePages</a></strong>(int&nbsp;pages)</code>
<div class="block">Notify that previously unused pages are in use again.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html#unusePages(int)">unusePages</a></strong>(int&nbsp;pages)</code>
<div class="block">Notify that several pages are no longer in use.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.mmtk.utility.heap.PageResource">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.mmtk.utility.heap.<a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></h3>
<code><a href="../../../../org/mmtk/utility/heap/PageResource.html#clearRequest(int)">clearRequest</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#commitPages(int,%20int)">commitPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#committedPages()">committedPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#cumulativeCommittedPages()">cumulativeCommittedPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#getNewPages(int,%20int,%20boolean)">getNewPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#lock()">lock</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#reservedPages()">reservedPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#reservePages(int)">reservePages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#skipConcurrentZeroing()">skipConcurrentZeroing</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#triggerConcurrentZeroing()">triggerConcurrentZeroing</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#unlock()">unlock</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#updateZeroingApproach(boolean,%20boolean)">updateZeroingApproach</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="cursor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cursor</h4>
<pre>private&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.46">cursor</a></pre>
</li>
</ul>
<a name="sentinel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sentinel</h4>
<pre>private&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.47">sentinel</a></pre>
</li>
</ul>
<a name="metaDataPagesPerRegion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metaDataPagesPerRegion</h4>
<pre>private final&nbsp;int <a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.48">metaDataPagesPerRegion</a></pre>
</li>
</ul>
<a name="currentChunk">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentChunk</h4>
<pre>private&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.49">currentChunk</a></pre>
</li>
</ul>
<a name="zeroingCursor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zeroingCursor</h4>
<pre>private volatile&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.50">zeroingCursor</a></pre>
</li>
</ul>
<a name="zeroingSentinel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zeroingSentinel</h4>
<pre>private&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.51">zeroingSentinel</a></pre>
</li>
</ul>
<a name="CONCURRENT_ZEROING_BLOCKSIZE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CONCURRENT_ZEROING_BLOCKSIZE</h4>
<pre>private static&nbsp;int <a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.312">CONCURRENT_ZEROING_BLOCKSIZE</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MonotonePageResource(org.mmtk.policy.Space, org.vmmagic.unboxed.Address, org.vmmagic.unboxed.Extent, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MonotonePageResource</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.65">MonotonePageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                    <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start,
                    <a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;bytes,
                    int&nbsp;metaDataPagesPerRegion)</pre>
<div class="block">Constructor

 Contiguous monotone resource. The address range is pre-defined at
 initialization time and is immutable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>space</code> - The space to which this resource is attached</dd><dd><code>start</code> - The start of the address range allocated to this resource</dd><dd><code>bytes</code> - The size of the address rage allocated to this resource</dd><dd><code>metaDataPagesPerRegion</code> - The number of pages of meta data
 that are embedded in each region.</dd></dl>
</li>
</ul>
<a name="MonotonePageResource(org.mmtk.policy.Space, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MonotonePageResource</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.85">MonotonePageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                    int&nbsp;metaDataPagesPerRegion)</pre>
<div class="block">Constructor

 Discontiguous monotone resource. The address range is <i>not</i>
 pre-defined at initialization time and is dynamically defined to
 be some set of pages, according to demand and availability.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>space</code> - The space to which this resource is attached</dd><dd><code>metaDataPagesPerRegion</code> - The number of pages of meta data
 that are embedded in each region.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAvailablePhysicalPages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAvailablePhysicalPages</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.94">getAvailablePhysicalPages</a>()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/mmtk/utility/heap/PageResource.html#getAvailablePhysicalPages()">PageResource</a></code></strong></div>
<div class="block">Return the number of available physical pages for this resource.
 This includes all pages currently unused by this resource's page
 cursor. If the resource is using discontiguous space it also includes
 currently unassigned discontiguous space.<p>

 Note: This just considers physical pages (ie virtual memory pages
 allocated for use by this resource). This calculation is orthogonal
 to and does not consider any restrictions on the number of pages
 this resource may actually use at any time (ie the number of
 committed and reserved pages).<p>

 Note: The calculation is made on the assumption that all space that
 could be assigned to this resource would be assigned to this resource
 (ie the unused discontiguous space could just as likely be assigned
 to another competing resource).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/mmtk/utility/heap/PageResource.html#getAvailablePhysicalPages()">getAvailablePhysicalPages</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of available physical pages for this resource.</dd></dl>
</li>
</ul>
<a name="allocPages(int, int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocPages</h4>
<pre>protected&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.116">allocPages</a>(int&nbsp;reservedPages,
                 int&nbsp;requiredPages,
                 boolean&nbsp;zeroed)</pre>
<div class="block">Allocate <code>pages</code> pages from this resource.  Simply
 bump the cursor, and fail if we hit the sentinel.<p>

 If the request can be satisfied, then ensure the pages are
 mmpapped and zeroed before returning the address of the start of
 the region.  If the request cannot be satisfied, return zero.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/mmtk/utility/heap/PageResource.html#allocPages(int,%20int,%20boolean)">allocPages</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>reservedPages</code> - The number of pages reserved due to the initial request.</dd><dd><code>requiredPages</code> - The number of pages required to be allocated.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The start of the first page if successful, zero on
 failure.</dd></dl>
</li>
</ul>
<a name="adjustForMetaData(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustForMetaData</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.179">adjustForMetaData</a>(int&nbsp;pages)</pre>
<div class="block">Adjust a page request to include metadata requirements for a request
 of the given size. This must be a pure function, that is it does not
 depend on the state of the PageResource.<p>

 In this case we simply report the expected page cost. We can't use
 worst case here because we would exhaust our budget every time.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/mmtk/utility/heap/PageResource.html#adjustForMetaData(int)">adjustForMetaData</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pages</code> - The size of the pending allocation in pages</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of required pages, inclusive of any metadata</dd></dl>
</li>
</ul>
<a name="adjustForMetaData(int, org.vmmagic.unboxed.Address)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustForMetaData</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.198">adjustForMetaData</a>(int&nbsp;pages,
                    <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;begin)</pre>
<div class="block">Adjust a page request to include metadata requirements, if any.<p>

 Note that there could be a race here, with multiple threads each
 adjusting their request on account of the same single metadata
 region.  This should not be harmful, as the failing requests will
 just retry, and if multiple requests succeed, only one of them
 will actually have the metadata accounted against it, the others
 will simply have more space than they originally requested.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pages</code> - The size of the pending allocation in pages</dd><dd><code>begin</code> - The start address of the region assigned to this pending
 request</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of required pages, inclusive of any metadata</dd></dl>
</li>
</ul>
<a name="getRegionStart(org.vmmagic.unboxed.Address)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionStart</h4>
<pre>private static&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.205">getRegionStart</a>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;addr)</pre>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.214">reset</a>()</pre>
<div class="block">Reset this page resource, freeing all pages and resetting
 reserved and committed pages appropriately.</div>
</li>
</ul>
<a name="unusePages(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unusePages</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.227">unusePages</a>(int&nbsp;pages)</pre>
<div class="block">Notify that several pages are no longer in use.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pages</code> - The number of pages</dd></dl>
</li>
</ul>
<a name="reusePages(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reusePages</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.239">reusePages</a>(int&nbsp;pages)</pre>
<div class="block">Notify that previously unused pages are in use again.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pages</code> - The number of pages</dd></dl>
</li>
</ul>
<a name="releasePages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releasePages</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.251">releasePages</a>()</pre>
<div class="block">Release all pages associated with this page resource, optionally
 zeroing on release and optionally memory protecting on release.</div>
</li>
</ul>
<a name="moveToNextChunk()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveToNextChunk</h4>
<pre>private&nbsp;boolean&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.286">moveToNextChunk</a>()</pre>
<div class="block">Adjust the currentChunk and cursor fields to point to the next chunk
 in the linked list of chunks tied down by this page resource.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if we moved to the next chunk; <code>false</code> if we hit the
 end of the linked list.</dd></dl>
</li>
</ul>
<a name="releasePages(org.vmmagic.unboxed.Address, org.vmmagic.unboxed.Extent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releasePages</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.301">releasePages</a>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;first,
                <a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;bytes)</pre>
<div class="block">Release a range of pages associated with this page resource, optionally
 zeroing on release and optionally memory protecting on release.</div>
</li>
</ul>
<a name="concurrentZeroing()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>concurrentZeroing</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/MonotonePageResource.html#line.315">concurrentZeroing</a>()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/mmtk/utility/heap/PageResource.html#concurrentZeroing()">PageResource</a></code></strong></div>
<div class="block">The entry point for the concurrent zeroing context.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/mmtk/utility/heap/PageResource.html#concurrentZeroing()">concurrentZeroing</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MonotonePageResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mmtk/utility/heap/Mmapper.html" title="class in org.mmtk.utility.heap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mmtk/utility/heap/MonotonePageResource.html" target="_top">Frames</a></li>
<li><a href="MonotonePageResource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
