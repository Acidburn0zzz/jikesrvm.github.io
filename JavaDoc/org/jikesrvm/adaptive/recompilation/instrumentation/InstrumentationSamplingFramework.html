<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>InstrumentationSamplingFramework (Jikes RVM API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InstrumentationSamplingFramework (Jikes RVM API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10,"i7":10,"i8":9,"i9":9,"i10":10,"i11":9,"i12":10,"i13":9,"i14":9,"i15":9,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":9,"i23":10,"i24":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InstrumentationSamplingFramework.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InsertYieldpointCounters.html" title="class in org.jikesrvm.adaptive.recompilation.instrumentation"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/LowerInstrumentation.html" title="class in org.jikesrvm.adaptive.recompilation.instrumentation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html" target="_top">Frames</a></li>
<li><a href="InstrumentationSamplingFramework.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jikesrvm.adaptive.recompilation.instrumentation</div>
<h2 title="Class InstrumentationSamplingFramework" class="title">Class InstrumentationSamplingFramework</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">org.jikesrvm.compilers.opt.driver.CompilerPhase</a></li>
<li>
<ul class="inheritance">
<li>org.jikesrvm.adaptive.recompilation.instrumentation.InstrumentationSamplingFramework</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.82">InstrumentationSamplingFramework</a>
extends <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a></pre>
<div class="block">Transforms the method so that instrumentation is sampled, rather
  than executed exhaustively.  Includes both the full-duplication
  and no-duplication variations.  See Arnold-Ryder PLDI 2001, and
  the section 4.1 of Arnold's PhD thesis.
  <p>
  NOTE: This implementation uses yieldpoints to denote where checks
  should be placed (to transfer control into instrumented code).  It
  is currently assumed that these are on method entries and
  backedges.  When optimized yieldpoint placement exists either a)
  it should be turned off when using this phase, or b) this phase
  should detect its own check locations.
  <p>
  To avoid the complexity of duplicating exception handler maps,
  exception handler blocks are split and a check at the top of the
  handler.  Thus exceptions from both the checking and duplicated
  code are handled by the same catch block, however the check at the
  top of the catch block ensures that the hander code has the
  opportunity to be sampled.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/jikesrvm/compilers/opt/ir/operand/RegisterOperand.html" title="class in org.jikesrvm.compilers.opt.ir.operand">RegisterOperand</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#cbsReg">cbsReg</a></span></code>
<div class="block">Temporary variables</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/Constructor.html?is-external=true" title="class or interface in java.lang.reflect">Constructor</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#constructor">constructor</a></span></code>
<div class="block">Constructor for this compiler phase</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#DEBUG">DEBUG</a></span></code>
<div class="block">These are local copies of optimizing compiler debug options that can be
 set via the command line arguments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#DEBUG2">DEBUG2</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.jikesrvm.compilers.opt.driver.CompilerPhase">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.jikesrvm.compilers.opt.driver.<a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a></h3>
<code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#container">container</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#InstrumentationSamplingFramework--">InstrumentationSamplingFramework</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#adjustPointersInDuplicatedCode-org.jikesrvm.compilers.opt.ir.IR-java.util.HashMap-">adjustPointersInDuplicatedCode</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                              <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;origToDupMap)</code>
<div class="block">Go through all blocks in duplicated code and adjust the edges as
 follows:
 
   All edges (in duplicated code) that go into a block with a
 yieldpoint must jump to back to the original code.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#appendLoad-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">appendLoad</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
          <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">Append a load of the global counter to the given basic block.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#cleanUp-org.jikesrvm.compilers.opt.ir.IR-">cleanUp</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">Cleans up the IR after the transformation is applied.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#conditionalizeInstrumentationOperation-org.jikesrvm.compilers.opt.ir.IR-org.jikesrvm.compilers.opt.ir.Instruction-org.jikesrvm.compilers.opt.ir.BasicBlock-">conditionalizeInstrumentationOperation</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                                      <a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a>&nbsp;i,
                                      <a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb)</code>
<div class="block">Take an instrumentation operation (an instruction) and guard it
 with a counter-based check.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#createCheck-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.BasicBlock-boolean-org.jikesrvm.compilers.opt.ir.IR-">createCheck</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;checkBB,
           <a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;noInstBB,
           <a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;instBB,
           boolean&nbsp;fallthroughToInstBB,
           <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">Append a check to a basic block, and make it jump to the right places.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#dumpCFG-org.jikesrvm.compilers.opt.ir.IR-">dumpCFG</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#duplicateCode-org.jikesrvm.compilers.opt.ir.IR-java.util.HashMap-java.util.HashSet-">duplicateCode</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
             <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;origToDupMap,
             <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashSet.html?is-external=true" title="class or interface in java.util">HashSet</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;exceptionHandlerBlocks)</code>
<div class="block">Make a duplicate of all basic blocks down at the bottom of the
 code order.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/Constructor.html?is-external=true" title="class or interface in java.lang.reflect">Constructor</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#getClassConstructor--">getClassConstructor</a></span>()</code>
<div class="block">Get a constructor object for this compiler phase</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#getFirstInstWithOperator-org.jikesrvm.compilers.opt.ir.Operator-org.jikesrvm.compilers.opt.ir.BasicBlock-">getFirstInstWithOperator</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/Operator.html" title="class in org.jikesrvm.compilers.opt.ir">Operator</a>&nbsp;operator,
                        <a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb)</code>
<div class="block">Go through all instructions and find the first with the given
  operator.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#getFirstInstWithYieldPoint-org.jikesrvm.compilers.opt.ir.BasicBlock-">getFirstInstWithYieldPoint</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb)</code>
<div class="block">Go through all instructions and find one that is a yield point</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#getName--">getName</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../org/jikesrvm/compilers/opt/ir/operand/RegisterOperand.html" title="class in org.jikesrvm.compilers.opt.ir.operand">RegisterOperand</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#getOrCreateDupReg-org.jikesrvm.compilers.opt.ir.operand.RegisterOperand-org.jikesrvm.compilers.opt.ir.IR-java.util.Map-">getOrCreateDupReg</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/operand/RegisterOperand.html" title="class in org.jikesrvm.compilers.opt.ir.operand">RegisterOperand</a>&nbsp;ro,
                 <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                 <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/Register.html" title="class in org.jikesrvm.compilers.opt.ir">Register</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/Register.html" title="class in org.jikesrvm.compilers.opt.ir">Register</a>&gt;&nbsp;dupMappings)</code>
<div class="block">The given register a) does not span multiple basic block, and b)
 is used in a basic block that is being duplicated.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#insertCBSChecks-org.jikesrvm.compilers.opt.ir.IR-java.util.HashMap-java.util.HashSet-">insertCBSChecks</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;origToDupMap,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashSet.html?is-external=true" title="class or interface in java.util">HashSet</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;exceptionHandlerBlocks)</code>
<div class="block">In the checking code, insert CBS checks at each yieldpoint, to
 transfer code into the duplicated (instrumented) code.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#isInstrumentationInstruction-org.jikesrvm.compilers.opt.ir.Instruction-">isInstrumentationInstruction</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a>&nbsp;i)</code>
<div class="block">How to determine whether a given instruction is an
 "instrumentation instruction".</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#isYieldpoint-org.jikesrvm.compilers.opt.ir.Instruction-">isYieldpoint</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a>&nbsp;i)</code>
<div class="block">Is the given instruction a yieldpoint?</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#myCopyWithoutLinks-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">myCopyWithoutLinks</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
                  <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">The same as BasicBlock.copyWithoutLinks except that it
 renames all temp variables that are never used outside the basic
 block.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#perform-org.jikesrvm.compilers.opt.ir.IR-">perform</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">This is the method that actually does the work of the phase.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#performVariationFullDuplication-org.jikesrvm.compilers.opt.ir.IR-">performVariationFullDuplication</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">Perform the full duplication algorithm</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#performVariationNoDuplication-org.jikesrvm.compilers.opt.ir.IR-">performVariationNoDuplication</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">Perform the NoDuplication version of the framework (see
 Arnold-Ryder PLDI 2001).</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#prependCounterReset-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">prependCounterReset</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
                   <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">Prepend the code to reset the global counter to the given basic
 block.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#prependDecrement-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">prependDecrement</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
                <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">Append a decrement of the global counter to the given basic block.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#prependStore-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">prependStore</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
            <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">Append a store of the global counter to the given basic block.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#removeInstrumentationFromOrig-org.jikesrvm.compilers.opt.ir.IR-java.util.HashMap-">removeInstrumentationFromOrig</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                             <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;origToDupMap)</code>
<div class="block">Remove instrumentation from the original version of all duplicated
 basic blocks.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#shouldPerform-org.jikesrvm.compilers.opt.OptOptions-">shouldPerform</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/OptOptions.html" title="class in org.jikesrvm.compilers.opt">OptOptions</a>&nbsp;options)</code>
<div class="block">This method determines if the phase should be run, based on the
 Options object it is passed.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#updateTemps-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">updateTemps</a></span>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
           <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</code>
<div class="block">Given an basic block, rename all of the temporary registers that are
 local to the block.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.jikesrvm.compilers.opt.driver.CompilerPhase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.jikesrvm.compilers.opt.driver.<a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a></h3>
<code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#dumpIR-org.jikesrvm.compilers.opt.ir.IR-java.lang.String-">dumpIR</a>, <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#dumpIR-org.jikesrvm.compilers.opt.ir.IR-java.lang.String-boolean-">dumpIR</a>, <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#getCompilerPhaseConstructor-java.lang.Class-">getCompilerPhaseConstructor</a>, <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#getCompilerPhaseConstructor-java.lang.Class-java.lang.Class:A-">getCompilerPhaseConstructor</a>, <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#newExecution-org.jikesrvm.compilers.opt.ir.IR-">newExecution</a>, <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#performPhase-org.jikesrvm.compilers.opt.ir.IR-">performPhase</a>, <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#printingEnabled-org.jikesrvm.compilers.opt.OptOptions-boolean-">printingEnabled</a>, <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#reportAdditionalStats--">reportAdditionalStats</a>, <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#setContainer-org.jikesrvm.compilers.opt.driver.OptimizationPlanAtomicElement-">setContainer</a>, <a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#verify-org.jikesrvm.compilers.opt.ir.IR-">verify</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEBUG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEBUG</h4>
<pre>private static&nbsp;boolean <a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.88">DEBUG</a></pre>
<div class="block">These are local copies of optimizing compiler debug options that can be
 set via the command line arguments.</div>
</li>
</ul>
<a name="DEBUG2">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEBUG2</h4>
<pre>private static&nbsp;boolean <a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.89">DEBUG2</a></pre>
</li>
</ul>
<a name="cbsReg">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cbsReg</h4>
<pre>private&nbsp;<a href="../../../../../org/jikesrvm/compilers/opt/ir/operand/RegisterOperand.html" title="class in org.jikesrvm.compilers.opt.ir.operand">RegisterOperand</a> <a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.94">cbsReg</a></pre>
<div class="block">Temporary variables</div>
</li>
</ul>
<a name="constructor">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>constructor</h4>
<pre>private static final&nbsp;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/Constructor.html?is-external=true" title="class or interface in java.lang.reflect">Constructor</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a>&gt; <a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.99">constructor</a></pre>
<div class="block">Constructor for this compiler phase</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="InstrumentationSamplingFramework--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InstrumentationSamplingFramework</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.82">InstrumentationSamplingFramework</a>()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getClassConstructor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassConstructor</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/Constructor.html?is-external=true" title="class or interface in java.lang.reflect">Constructor</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a>&gt;&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.107">getClassConstructor</a>()</pre>
<div class="block">Get a constructor object for this compiler phase</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#getClassConstructor--">getClassConstructor</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>compiler phase constructor</dd>
</dl>
</li>
</ul>
<a name="shouldPerform-org.jikesrvm.compilers.opt.OptOptions-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldPerform</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.112">shouldPerform</a>(<a href="../../../../../org/jikesrvm/compilers/opt/OptOptions.html" title="class in org.jikesrvm.compilers.opt">OptOptions</a>&nbsp;options)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#shouldPerform-org.jikesrvm.compilers.opt.OptOptions-">CompilerPhase</a></code></span></div>
<div class="block">This method determines if the phase should be run, based on the
 Options object it is passed.
 By default, phases are always performed.
 Subclasses should override this method if they only want
 to be performed conditionally.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#shouldPerform-org.jikesrvm.compilers.opt.OptOptions-">shouldPerform</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>options</code> - the compiler options for the compilation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the phase should be performed</dd>
</dl>
</li>
</ul>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.117">getName</a>()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#getName--">getName</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a String which is the name of the phase.</dd>
</dl>
</li>
</ul>
<a name="perform-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>perform</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.122">perform</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#perform-org.jikesrvm.compilers.opt.ir.IR-">CompilerPhase</a></code></span></div>
<div class="block">This is the method that actually does the work of the phase.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html#perform-org.jikesrvm.compilers.opt.ir.IR-">perform</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/jikesrvm/compilers/opt/driver/CompilerPhase.html" title="class in org.jikesrvm.compilers.opt.driver">CompilerPhase</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ir</code> - the IR on which to apply the phase</dd>
</dl>
</li>
</ul>
<a name="cleanUp-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanUp</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.164">cleanUp</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">Cleans up the IR after the transformation is applied.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ir</code> - the IR to clean up</dd>
</dl>
</li>
</ul>
<a name="performVariationFullDuplication-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performVariationFullDuplication</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.189">performVariationFullDuplication</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">Perform the full duplication algorithm</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ir</code> - the governing IR</dd>
</dl>
</li>
</ul>
<a name="duplicateCode-org.jikesrvm.compilers.opt.ir.IR-java.util.HashMap-java.util.HashSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>duplicateCode</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.233">duplicateCode</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                           <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;origToDupMap,
                           <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashSet.html?is-external=true" title="class or interface in java.util">HashSet</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;exceptionHandlerBlocks)</pre>
<div class="block">Make a duplicate of all basic blocks down at the bottom of the
 code order.  For now, this is done in a slightly ackward way.
 After duplication, the control flow within the duplicated code is
 not complete because each block immediately transfers you back to
 the original code.  This gets fixed in
 adjustPointersInDuplicatedCode</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ir</code> - the governing IR</dd>
<dd><code>origToDupMap</code> - a map (initially empty) that will store the mapping
  of original blocks to their duplicates</dd>
<dd><code>exceptionHandlerBlocks</code> - a set that (initially empty) that is used
  to remember the exception handlers. Those need to be known because they
  need special checks (see <a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#insertCBSChecks-org.jikesrvm.compilers.opt.ir.IR-java.util.HashMap-java.util.HashSet-"><code>insertCBSChecks(IR, HashMap, HashSet)</code></a>.</dd>
</dl>
</li>
</ul>
<a name="insertCBSChecks-org.jikesrvm.compilers.opt.ir.IR-java.util.HashMap-java.util.HashSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertCBSChecks</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.331">insertCBSChecks</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                             <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;origToDupMap,
                             <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashSet.html?is-external=true" title="class or interface in java.util">HashSet</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;exceptionHandlerBlocks)</pre>
<div class="block">In the checking code, insert CBS checks at each yieldpoint, to
 transfer code into the duplicated (instrumented) code.
 For now, checks are inserted at all yieldpoints (See comment at
 top of file).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ir</code> - the governing IR</dd>
<dd><code>origToDupMap</code> - a mapping of baisc block blocks to their duplicates</dd>
<dd><code>exceptionHandlerBlocks</code> - a set that of exception handler basic blocks</dd>
</dl>
</li>
</ul>
<a name="createCheck-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.BasicBlock-boolean-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCheck</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.398">createCheck</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;checkBB,
                         <a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;noInstBB,
                         <a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;instBB,
                         boolean&nbsp;fallthroughToInstBB,
                         <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">Append a check to a basic block, and make it jump to the right places.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>checkBB</code> - The block to append the CBS check to.</dd>
<dd><code>noInstBB</code> - The basic block to jump to if the CBS check fails</dd>
<dd><code>instBB</code> - The basicBlock to jump to if the CBS check succeeds</dd>
<dd><code>fallthroughToInstBB</code> - Should checkBB fallthrough to instBB
                            (otherwise it must fallthrough to noInstBB)</dd>
<dd><code>ir</code> - the IR that contains the blocks</dd>
</dl>
</li>
</ul>
<a name="appendLoad-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendLoad</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.447">appendLoad</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
                        <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">Append a load of the global counter to the given basic block.

 WARNING: Tested for LIR only!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bb</code> - The block to append the load to</dd>
<dd><code>ir</code> - The IR</dd>
</dl>
</li>
</ul>
<a name="prependStore-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prependStore</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.503">prependStore</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
                          <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">Append a store of the global counter to the given basic block.

 WARNING: Tested in LIR only!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bb</code> - The block to append the load to</dd>
<dd><code>ir</code> - The IR</dd>
</dl>
</li>
</ul>
<a name="prependDecrement-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prependDecrement</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.550">prependDecrement</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
                              <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">Append a decrement of the global counter to the given basic block.

 Tested in LIR only!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bb</code> - The block to append the load to</dd>
<dd><code>ir</code> - The IR</dd>
</dl>
</li>
</ul>
<a name="prependCounterReset-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prependCounterReset</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.567">prependCounterReset</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
                                 <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">Prepend the code to reset the global counter to the given basic
 block.

 Warning:  Tested in LIR only!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bb</code> - The block to append the load to</dd>
<dd><code>ir</code> - The IR</dd>
</dl>
</li>
</ul>
<a name="getFirstInstWithOperator-org.jikesrvm.compilers.opt.ir.Operator-org.jikesrvm.compilers.opt.ir.BasicBlock-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstInstWithOperator</h4>
<pre>private static&nbsp;<a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a>&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.630">getFirstInstWithOperator</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/Operator.html" title="class in org.jikesrvm.compilers.opt.ir">Operator</a>&nbsp;operator,
                                                    <a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb)</pre>
<div class="block">Go through all instructions and find the first with the given
  operator.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>operator</code> - The operator to look for</dd>
<dd><code>bb</code> - The basic block in which to look</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The first instruction in bb that has operator operator.</dd>
</dl>
</li>
</ul>
<a name="getFirstInstWithYieldPoint-org.jikesrvm.compilers.opt.ir.BasicBlock-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstInstWithYieldPoint</h4>
<pre>public static&nbsp;<a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a>&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.647">getFirstInstWithYieldPoint</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb)</pre>
<div class="block">Go through all instructions and find one that is a yield point</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bb</code> - The basic block in which to look</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The first instruction in bb that has a yield point</dd>
</dl>
</li>
</ul>
<a name="isYieldpoint-org.jikesrvm.compilers.opt.ir.Instruction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isYieldpoint</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.667">isYieldpoint</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a>&nbsp;i)</pre>
<div class="block">Is the given instruction a yieldpoint?
 <p>
 For now we ignore epilogue yieldpoints since we are only concerned with
 method entries and backedges.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - the instruction to examine</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the instruction is a non-epilogue yieldpoint</dd>
</dl>
</li>
</ul>
<a name="adjustPointersInDuplicatedCode-org.jikesrvm.compilers.opt.ir.IR-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustPointersInDuplicatedCode</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.690">adjustPointersInDuplicatedCode</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                                                   <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;origToDupMap)</pre>
<div class="block">Go through all blocks in duplicated code and adjust the edges as
 follows:
 <ol>
   <li>All edges (in duplicated code) that go into a block with a
 yieldpoint must jump to back to the original code.  This is
 actually already satisfied because we appended goto's to all
 duplicated bb's (the goto's go back to orig code)
   <li>All edges that do NOT go into a yieldpoint block must stay
 (either fallthrough or jump to a block in) in the duplicated
 code.
 </ol></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>origToDupMap</code> - mapping of basic blocks to their duplicates</dd>
<dd><code>ir</code> - the governing IR</dd>
</dl>
</li>
</ul>
<a name="removeInstrumentationFromOrig-org.jikesrvm.compilers.opt.ir.IR-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeInstrumentationFromOrig</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.740">removeInstrumentationFromOrig</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                                                  <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&gt;&nbsp;origToDupMap)</pre>
<div class="block">Remove instrumentation from the original version of all duplicated
 basic blocks.<p>

 The yieldpoints can also be removed from either the original or
 the duplicated code.  If you remove them from the original, it
 will make it run faster (since it is executed more than the
 duplicated) however that means that you can't turn off the
 instrumentation or you could infinitely loop without executing
 yieldpoints!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ir</code> - the governing IR</dd>
<dd><code>origToDupMap</code> - mapping of basic blocks to their duplicates</dd>
</dl>
</li>
</ul>
<a name="myCopyWithoutLinks-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myCopyWithoutLinks</h4>
<pre>private static&nbsp;<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.772">myCopyWithoutLinks</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
                                             <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">The same as BasicBlock.copyWithoutLinks except that it
 renames all temp variables that are never used outside the basic
 block.  This 1) helps eliminate the artificially large live
 ranges that might have been created (assuming the reg allocator
 isn't too smart) and 2) it prevents BURS from crashing.
 <p>
 PRECONDITION:  the spansBasicBlock bit must be correct by calling
                DefUse.recomputeSpansBasicBlock(IR);</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bb</code> - the basic block to process</dd>
<dd><code>ir</code> - the IR that contains the block</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the copied block</dd>
</dl>
</li>
</ul>
<a name="updateTemps-org.jikesrvm.compilers.opt.ir.BasicBlock-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTemps</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.789">updateTemps</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb,
                                <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">Given an basic block, rename all of the temporary registers that are
 local to the block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bb</code> - the block</dd>
<dd><code>ir</code> - the IR that contains the block</dd>
</dl>
</li>
</ul>
<a name="getOrCreateDupReg-org.jikesrvm.compilers.opt.ir.operand.RegisterOperand-org.jikesrvm.compilers.opt.ir.IR-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrCreateDupReg</h4>
<pre>private static&nbsp;<a href="../../../../../org/jikesrvm/compilers/opt/ir/operand/RegisterOperand.html" title="class in org.jikesrvm.compilers.opt.ir.operand">RegisterOperand</a>&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.829">getOrCreateDupReg</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/operand/RegisterOperand.html" title="class in org.jikesrvm.compilers.opt.ir.operand">RegisterOperand</a>&nbsp;ro,
                                                 <a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                                                 <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/jikesrvm/compilers/opt/ir/Register.html" title="class in org.jikesrvm.compilers.opt.ir">Register</a>,<a href="../../../../../org/jikesrvm/compilers/opt/ir/Register.html" title="class in org.jikesrvm.compilers.opt.ir">Register</a>&gt;&nbsp;dupMappings)</pre>
<div class="block">The given register a) does not span multiple basic block, and b)
 is used in a basic block that is being duplicated.   It is
 therefore safe to replace all occurrences of the register with a
 new register.  This method returns the duplicated
 register that is associated with the given register.  If a
 duplicated register does not exist, it is created and recorded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ro</code> - the register operand to duplicate</dd>
<dd><code>ir</code> - the IR that contains the register operand</dd>
<dd><code>dupMappings</code> - the mappings of registers to duplicates</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a duplicated register operand</dd>
</dl>
</li>
</ul>
<a name="performVariationNoDuplication-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performVariationNoDuplication</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.852">performVariationNoDuplication</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
<div class="block">Perform the NoDuplication version of the framework (see
 Arnold-Ryder PLDI 2001).  Instrumentation operations are wrapped
 in a conditional, but no code duplication is performed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ir</code> - the IR to process</dd>
</dl>
</li>
</ul>
<a name="conditionalizeInstrumentationOperation-org.jikesrvm.compilers.opt.ir.IR-org.jikesrvm.compilers.opt.ir.Instruction-org.jikesrvm.compilers.opt.ir.BasicBlock-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>conditionalizeInstrumentationOperation</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.890">conditionalizeInstrumentationOperation</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir,
                                                    <a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a>&nbsp;i,
                                                    <a href="../../../../../org/jikesrvm/compilers/opt/ir/BasicBlock.html" title="class in org.jikesrvm.compilers.opt.ir">BasicBlock</a>&nbsp;bb)</pre>
<div class="block">Take an instrumentation operation (an instruction) and guard it
 with a counter-based check.
 <ol>
   <li>split the basic block before and after the i
    to get A -&gt; B -&gt; C
   <li>Add check to A, making it go to B if it succeeds, otherwise C
 </ol></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ir</code> - the IR that contains the instruction</dd>
<dd><code>i</code> - the instruction</dd>
<dd><code>bb</code> - the basic block that contains the instruction</dd>
</dl>
</li>
</ul>
<a name="isInstrumentationInstruction-org.jikesrvm.compilers.opt.ir.Instruction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInstrumentationInstruction</h4>
<pre>private static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.924">isInstrumentationInstruction</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/Instruction.html" title="class in org.jikesrvm.compilers.opt.ir">Instruction</a>&nbsp;i)</pre>
<div class="block">How to determine whether a given instruction is an
 "instrumentation instruction".  In other words, it should be
 executed only when a sample is being taken.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - an instruction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if and only if this is an instrumentation instruction</dd>
</dl>
</li>
</ul>
<a name="dumpCFG-org.jikesrvm.compilers.opt.ir.IR-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>dumpCFG</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html#line.933">dumpCFG</a>(<a href="../../../../../org/jikesrvm/compilers/opt/ir/IR.html" title="class in org.jikesrvm.compilers.opt.ir">IR</a>&nbsp;ir)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InstrumentationSamplingFramework.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/InsertYieldpointCounters.html" title="class in org.jikesrvm.adaptive.recompilation.instrumentation"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/jikesrvm/adaptive/recompilation/instrumentation/LowerInstrumentation.html" title="class in org.jikesrvm.adaptive.recompilation.instrumentation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/jikesrvm/adaptive/recompilation/instrumentation/InstrumentationSamplingFramework.html" target="_top">Frames</a></li>
<li><a href="InstrumentationSamplingFramework.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
