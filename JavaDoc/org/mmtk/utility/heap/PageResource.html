<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>PageResource (Jikes RVM API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PageResource (Jikes RVM API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":6,"i2":6,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9,"i8":6,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PageResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html" title="class in org.mmtk.utility.heap"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/mmtk/utility/heap/SpaceDescriptor.html" title="class in org.mmtk.utility.heap"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mmtk/utility/heap/PageResource.html" target="_top">Frames</a></li>
<li><a href="PageResource.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.mmtk.utility.heap</div>
<h2 title="Class PageResource" class="title">Class PageResource</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.mmtk.utility.heap.PageResource</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html" title="class in org.mmtk.utility.heap">FreeListPageResource</a>, <a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html" title="class in org.mmtk.utility.heap">MonotonePageResource</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.38">PageResource</a>
extends <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class manages the allocation of pages for a space.  When a
 page is requested by the space both a page budget and the use of
 virtual address space are checked.  If the request for space can't
 be satisfied (for either reason) a GC may be triggered.<p>

 This class is abstract, and is subclassed with monotone and
 freelist variants, which reflect monotonic and ad hoc space usage
 respectively.  Monotonic use is easier to manage, but is obviously
 more restrictive (useful for copying collectors which allocate
 monotonically before freeing the entire space and starting over).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../org/mmtk/vm/Lock.html" title="class in org.mmtk.vm">Lock</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#classLock">classLock</a></span></code>
<div class="block">lock protecting count of total cumulative pages committed</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#committed">committed</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#contiguous">contiguous</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#cumulativeCommitted">cumulativeCommitted</a></span></code>
<div class="block">cumulative count of pages ever committed</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/mmtk/vm/Lock.html" title="class in org.mmtk.vm">Lock</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#lock">lock</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#reserved">reserved</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#space">space</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#start">start</a></span></code>
<div class="block">only for contiguous spaces</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroConcurrent">zeroConcurrent</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/mmtk/utility/heap/ConcurrentZeroingContext.html" title="class in org.mmtk.utility.heap">ConcurrentZeroingContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroingContext">zeroingContext</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroNT">zeroNT</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private)</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#PageResource-org.mmtk.policy.Space-">PageResource</a></span>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space)</code>
<div class="block">Constructor for discontiguous spaces.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private)</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#PageResource-org.mmtk.policy.Space-org.vmmagic.unboxed.Address-">PageResource</a></span>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
            <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start)</code>
<div class="block">Constructor for contiguous spaces.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#PageResource-org.mmtk.policy.Space-boolean-">PageResource</a></span>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
            boolean&nbsp;contiguous)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#addToCommitted-int-">addToCommitted</a></span>(int&nbsp;pages)</code>
<div class="block">Add to the total cumulative committed page count.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#adjustForMetaData-int-">adjustForMetaData</a></span>(int&nbsp;pages)</code>
<div class="block">Adjust a page request to include metadata requirements for a request
 of the given size.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) abstract <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#allocPages-int-int-boolean-">allocPages</a></span>(int&nbsp;reservedPages,
          int&nbsp;requiredPages,
          boolean&nbsp;zeroed)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#clearRequest-int-">clearRequest</a></span>(int&nbsp;reservedPages)</code>
<div class="block">Remove a request to the space.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#commitPages-int-int-">commitPages</a></span>(int&nbsp;reservedPages,
           int&nbsp;actualPages)</code>
<div class="block">Commit pages to the page budget.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#committedPages--">committedPages</a></span>()</code>
<div class="block">Return the number of committed pages</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#concurrentZeroing--">concurrentZeroing</a></span>()</code>
<div class="block">The entry point for the concurrent zeroing context.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#cumulativeCommittedPages--">cumulativeCommittedPages</a></span>()</code>
<div class="block">Return the cumulative number of committed pages</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#getAvailablePhysicalPages--">getAvailablePhysicalPages</a></span>()</code>
<div class="block">Return the number of available physical pages for this resource.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#getNewPages-int-int-boolean-">getNewPages</a></span>(int&nbsp;pagesReserved,
           int&nbsp;pages,
           boolean&nbsp;zeroed)</code>
<div class="block">Allocate pages in virtual memory, returning zero on failure.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#lock--">lock</a></span>()</code>
<div class="block">Acquire the lock.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#reservedPages--">reservedPages</a></span>()</code>
<div class="block">Return the number of reserved pages</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#reservePages-int-">reservePages</a></span>(int&nbsp;pages)</code>
<div class="block">Reserve pages.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#skipConcurrentZeroing--">skipConcurrentZeroing</a></span>()</code>
<div class="block">Skip concurrent zeroing (fall back to bulk zeroing).</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#triggerConcurrentZeroing--">triggerConcurrentZeroing</a></span>()</code>
<div class="block">Trigger concurrent zeroing.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#unlock--">unlock</a></span>()</code>
<div class="block">Release the lock.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/mmtk/utility/heap/PageResource.html#updateZeroingApproach-boolean-boolean-">updateZeroingApproach</a></span>(boolean&nbsp;nontemporal,
                     boolean&nbsp;concurrent)</code>
<div class="block">Update the zeroing approach for this page resource.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="classLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>classLock</h4>
<pre>private static final&nbsp;<a href="../../../../org/mmtk/vm/Lock.html" title="class in org.mmtk.vm">Lock</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.46">classLock</a></pre>
<div class="block">lock protecting count of total cumulative pages committed</div>
</li>
</ul>
<a name="cumulativeCommitted">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cumulativeCommitted</h4>
<pre>private static&nbsp;long <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.48">cumulativeCommitted</a></pre>
<div class="block">cumulative count of pages ever committed</div>
</li>
</ul>
<a name="reserved">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserved</h4>
<pre>protected&nbsp;int <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.61">reserved</a></pre>
</li>
</ul>
<a name="committed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>committed</h4>
<pre>protected&nbsp;int <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.62">committed</a></pre>
</li>
</ul>
<a name="contiguous">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contiguous</h4>
<pre>protected final&nbsp;boolean <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.64">contiguous</a></pre>
</li>
</ul>
<a name="space">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>space</h4>
<pre>protected final&nbsp;<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.65">space</a></pre>
</li>
</ul>
<a name="start">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>protected&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.68">start</a></pre>
<div class="block">only for contiguous spaces</div>
</li>
</ul>
<a name="lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>private final&nbsp;<a href="../../../../org/mmtk/vm/Lock.html" title="class in org.mmtk.vm">Lock</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.71">lock</a></pre>
</li>
</ul>
<a name="zeroNT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zeroNT</h4>
<pre>protected&nbsp;boolean <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.74">zeroNT</a></pre>
</li>
</ul>
<a name="zeroConcurrent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zeroConcurrent</h4>
<pre>protected&nbsp;boolean <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.75">zeroConcurrent</a></pre>
</li>
</ul>
<a name="zeroingContext">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>zeroingContext</h4>
<pre>protected&nbsp;<a href="../../../../org/mmtk/utility/heap/ConcurrentZeroingContext.html" title="class in org.mmtk.utility.heap">ConcurrentZeroingContext</a> <a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.76">zeroingContext</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PageResource-org.mmtk.policy.Space-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PageResource</h4>
<pre>private&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.91">PageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                     boolean&nbsp;contiguous)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>space</code> - The space to which this resource is attached</dd>
<dd><code>contiguous</code> - whether the space is contiguous or discontiguous</dd>
</dl>
</li>
</ul>
<a name="PageResource-org.mmtk.policy.Space-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PageResource</h4>
<pre><a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.102">PageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space)</pre>
<div class="block">Constructor for discontiguous spaces.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>space</code> - The space to which this resource is attached</dd>
</dl>
</li>
</ul>
<a name="PageResource-org.mmtk.policy.Space-org.vmmagic.unboxed.Address-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PageResource</h4>
<pre><a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.112">PageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
             <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start)</pre>
<div class="block">Constructor for contiguous spaces.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>space</code> - The space to which this resource is attached</dd>
<dd><code>start</code> - start address of the space</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAvailablePhysicalPages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAvailablePhysicalPages</h4>
<pre>public abstract&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.136">getAvailablePhysicalPages</a>()</pre>
<div class="block">Return the number of available physical pages for this resource.
 This includes all pages currently unused by this resource's page
 cursor. If the resource is using discontiguous space it also includes
 currently unassigned discontiguous space.<p>

 Note: This just considers physical pages (ie virtual memory pages
 allocated for use by this resource). This calculation is orthogonal
 to and does not consider any restrictions on the number of pages
 this resource may actually use at any time (ie the number of
 committed and reserved pages).<p>

 Note: The calculation is made on the assumption that all space that
 could be assigned to this resource would be assigned to this resource
 (ie the unused discontiguous space could just as likely be assigned
 to another competing resource).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of available physical pages for this resource.</dd>
</dl>
</li>
</ul>
<a name="reservePages-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reservePages</h4>
<pre>public final&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.150">reservePages</a>(int&nbsp;pages)</pre>
<div class="block">Reserve pages.<p>

 The role of reserving pages is that it allows the request to be
 noted as pending (the difference between committed and reserved
 indicates pending requests).  If the request would exceed the
 page budget then the caller must poll in case a GC is necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pages</code> - The number of pages requested</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The actual number of pages reserved (including metadata, etc.)</dd>
</dl>
</li>
</ul>
<a name="clearRequest-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearRequest</h4>
<pre>public final&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.164">clearRequest</a>(int&nbsp;reservedPages)</pre>
<div class="block">Remove a request to the space.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reservedPages</code> - The number of pages returned due to the request.</dd>
</dl>
</li>
</ul>
<a name="updateZeroingApproach-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateZeroingApproach</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.177">updateZeroingApproach</a>(boolean&nbsp;nontemporal,
                                  boolean&nbsp;concurrent)</pre>
<div class="block">Update the zeroing approach for this page resource.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nontemporal</code> - whether to use non-temporal instructions for zeroing</dd>
<dd><code>concurrent</code> - whether to do the zeroing concurrently</dd>
</dl>
</li>
</ul>
<a name="skipConcurrentZeroing--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipConcurrentZeroing</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.190">skipConcurrentZeroing</a>()</pre>
<div class="block">Skip concurrent zeroing (fall back to bulk zeroing).</div>
</li>
</ul>
<a name="triggerConcurrentZeroing--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>triggerConcurrentZeroing</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.198">triggerConcurrentZeroing</a>()</pre>
<div class="block">Trigger concurrent zeroing.</div>
</li>
</ul>
<a name="concurrentZeroing--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>concurrentZeroing</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.206">concurrentZeroing</a>()</pre>
<div class="block">The entry point for the concurrent zeroing context.</div>
</li>
</ul>
<a name="allocPages-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocPages</h4>
<pre>abstract&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.210">allocPages</a>(int&nbsp;reservedPages,
                            int&nbsp;requiredPages,
                            boolean&nbsp;zeroed)</pre>
</li>
</ul>
<a name="adjustForMetaData-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustForMetaData</h4>
<pre>public abstract&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.220">adjustForMetaData</a>(int&nbsp;pages)</pre>
<div class="block">Adjust a page request to include metadata requirements for a request
 of the given size. This must be a pure function, that is it does not
 depend on the state of the PageResource.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pages</code> - The size of the pending allocation in pages</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of required pages, inclusive of any metadata</dd>
</dl>
</li>
</ul>
<a name="getNewPages-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewPages</h4>
<pre>public final&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.239">getNewPages</a>(int&nbsp;pagesReserved,
                                 int&nbsp;pages,
                                 boolean&nbsp;zeroed)</pre>
<div class="block">Allocate pages in virtual memory, returning zero on failure.<p>

 If the request cannot be satisfied, zero is returned and it
 falls to the caller to trigger the GC.

 Call <code>allocPages</code> (subclass) to find the pages in
 virtual memory.  If successful then commit the pending page
 request and return the address of the first page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pagesReserved</code> - The number of pages reserved by the initial request</dd>
<dd><code>pages</code> - The number of pages requested</dd>
<dd><code>zeroed</code> - If true allocated pages are zeroed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The address of the first of <code>pages</code> pages, or
 zero on failure.</dd>
</dl>
</li>
</ul>
<a name="commitPages-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitPages</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.256">commitPages</a>(int&nbsp;reservedPages,
                           int&nbsp;actualPages)</pre>
<div class="block">Commit pages to the page budget.  This is called after
 successfully determining that the request can be satisfied by
 both the page budget and virtual memory.  This simply accounts
 for the discrepancy between <code>committed</code> and
 <code>reserved</code> while the request was pending.

 This *MUST* be called by each PageResource during the
 allocPages, and the caller must hold the lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reservedPages</code> - The number of pages initially reserved due to this request</dd>
<dd><code>actualPages</code> - The number of pages actually allocated.</dd>
</dl>
</li>
</ul>
<a name="reservedPages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reservedPages</h4>
<pre>public final&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.271">reservedPages</a>()</pre>
<div class="block">Return the number of reserved pages</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of reserved pages.</dd>
</dl>
</li>
</ul>
<a name="committedPages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>committedPages</h4>
<pre>public final&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.280">committedPages</a>()</pre>
<div class="block">Return the number of committed pages</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of committed pages.</dd>
</dl>
</li>
</ul>
<a name="cumulativeCommittedPages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cumulativeCommittedPages</h4>
<pre>public static&nbsp;long&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.289">cumulativeCommittedPages</a>()</pre>
<div class="block">Return the cumulative number of committed pages</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The cumulative number of committed pages.</dd>
</dl>
</li>
</ul>
<a name="addToCommitted-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToCommitted</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.298">addToCommitted</a>(int&nbsp;pages)</pre>
<div class="block">Add to the total cumulative committed page count.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pages</code> - The number of pages to be added.</dd>
</dl>
</li>
</ul>
<a name="lock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>protected final&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.307">lock</a>()</pre>
<div class="block">Acquire the lock.</div>
</li>
</ul>
<a name="unlock--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>unlock</h4>
<pre>protected final&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/PageResource.html#line.314">unlock</a>()</pre>
<div class="block">Release the lock.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PageResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mmtk/utility/heap/MonotonePageResource.html" title="class in org.mmtk.utility.heap"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/mmtk/utility/heap/SpaceDescriptor.html" title="class in org.mmtk.utility.heap"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mmtk/utility/heap/PageResource.html" target="_top">Frames</a></li>
<li><a href="PageResource.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
