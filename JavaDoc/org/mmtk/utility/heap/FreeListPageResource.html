<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>FreeListPageResource (Jikes RVM API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FreeListPageResource (Jikes RVM API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FreeListPageResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mmtk/utility/heap/ConcurrentZeroingContext.html" title="class in org.mmtk.utility.heap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/mmtk/utility/heap/HeapGrowthManager.html" title="class in org.mmtk.utility.heap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mmtk/utility/heap/FreeListPageResource.html" target="_top">Frames</a></li>
<li><a href="FreeListPageResource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.mmtk.utility.heap</div>
<h2 title="Class FreeListPageResource" class="title">Class FreeListPageResource</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">org.mmtk.utility.heap.PageResource</a></li>
<li>
<ul class="inheritance">
<li>org.mmtk.utility.heap.FreeListPageResource</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/mmtk/utility/Constants.html" title="interface in org.mmtk.utility">Constants</a></dd>
</dl>
<hr>
<br>
<pre>public final class <a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.35">FreeListPageResource</a>
extends <a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a>
implements <a href="../../../../org/mmtk/utility/Constants.html" title="interface in org.mmtk.utility">Constants</a></pre>
<div class="block">This class manages the allocation of pages for a space.  When a
 page is requested by the space both a page budget and the use of
 virtual address space are checked.  If the request for space can't
 be satisfied (for either reason) a GC may be triggered.<p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/mmtk/utility/GenericFreeList.html" title="class in org.mmtk.utility">GenericFreeList</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#freeList">freeList</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#highWaterMark">highWaterMark</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#metaDataPagesPerRegion">metaDataPagesPerRegion</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#pagesCurrentlyOnFreeList">pagesCurrentlyOnFreeList</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.mmtk.utility.heap.PageResource">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.mmtk.utility.heap.<a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></h3>
<code><a href="../../../../org/mmtk/utility/heap/PageResource.html#committed">committed</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#contiguous">contiguous</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#reserved">reserved</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#space">space</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#start">start</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#ZERO_ON_RELEASE">ZERO_ON_RELEASE</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroConcurrent">zeroConcurrent</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroingContext">zeroingContext</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#zeroNT">zeroNT</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.mmtk.utility.Constants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.mmtk.utility.<a href="../../../../org/mmtk/utility/Constants.html" title="interface in org.mmtk.utility">Constants</a></h3>
<code><a href="../../../../org/mmtk/utility/Constants.html#ALIGNMENT_VALUE">ALIGNMENT_VALUE</a>, <a href="../../../../org/mmtk/utility/Constants.html#ARRAY_ELEMENT">ARRAY_ELEMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_ADDRESS">BITS_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_BYTE">BITS_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_CHAR">BITS_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_INT">BITS_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_PAGE">BITS_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_SHORT">BITS_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BITS_IN_WORD">BITS_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_ADDRESS">BYTES_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_BYTE">BYTES_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_CHAR">BYTES_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_INT">BYTES_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_KBYTE">BYTES_IN_KBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_MBYTE">BYTES_IN_MBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_PAGE">BYTES_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_SHORT">BYTES_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#BYTES_IN_WORD">BYTES_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#CARD_MASK">CARD_MASK</a>, <a href="../../../../org/mmtk/utility/Constants.html#CARD_META_PAGES_PER_REGION">CARD_META_PAGES_PER_REGION</a>, <a href="../../../../org/mmtk/utility/Constants.html#INSTANCE_FIELD">INSTANCE_FIELD</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_ADDRESS">LOG_BITS_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_BYTE">LOG_BITS_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_CHAR">LOG_BITS_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_INT">LOG_BITS_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_PAGE">LOG_BITS_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_SHORT">LOG_BITS_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BITS_IN_WORD">LOG_BITS_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_ADDRESS">LOG_BYTES_IN_ADDRESS</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_ADDRESS_SPACE">LOG_BYTES_IN_ADDRESS_SPACE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_BYTE">LOG_BYTES_IN_BYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_CHAR">LOG_BYTES_IN_CHAR</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_INT">LOG_BYTES_IN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_KBYTE">LOG_BYTES_IN_KBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_MBYTE">LOG_BYTES_IN_MBYTE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_PAGE">LOG_BYTES_IN_PAGE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_SHORT">LOG_BYTES_IN_SHORT</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_BYTES_IN_WORD">LOG_BYTES_IN_WORD</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_BYTES">LOG_CARD_BYTES</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_GRAIN">LOG_CARD_GRAIN</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_META_BYTES">LOG_CARD_META_BYTES</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_META_PAGES">LOG_CARD_META_PAGES</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_META_SIZE">LOG_CARD_META_SIZE</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_CARD_UNITS">LOG_CARD_UNITS</a>, <a href="../../../../org/mmtk/utility/Constants.html#LOG_MIN_ALIGNMENT">LOG_MIN_ALIGNMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MAX_ALIGNMENT">MAX_ALIGNMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MAX_BYTES_PADDING">MAX_BYTES_PADDING</a>, <a href="../../../../org/mmtk/utility/Constants.html#MAX_INT">MAX_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MIN_ALIGNMENT">MIN_ALIGNMENT</a>, <a href="../../../../org/mmtk/utility/Constants.html#MIN_INT">MIN_INT</a>, <a href="../../../../org/mmtk/utility/Constants.html#SUPPORT_CARD_SCANNING">SUPPORT_CARD_SCANNING</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#FreeListPageResource(org.mmtk.policy.Space,%20org.vmmagic.unboxed.Address,%20org.vmmagic.unboxed.Extent)">FreeListPageResource</a></strong>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                                        <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start,
                                        <a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;bytes)</code>
<div class="block">Constructor

 Contiguous free list resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#FreeListPageResource(org.mmtk.policy.Space,%20org.vmmagic.unboxed.Address,%20org.vmmagic.unboxed.Extent,%20int)">FreeListPageResource</a></strong>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                                        <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start,
                                        <a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;bytes,
                                        int&nbsp;metaDataPagesPerRegion)</code>
<div class="block">Constructor

 Contiguous free list resource.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#FreeListPageResource(org.mmtk.policy.Space,%20int)">FreeListPageResource</a></strong>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                                        int&nbsp;metaDataPagesPerRegion)</code>
<div class="block">Constructor

 Discontiguous monotone resource.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#adjustForMetaData(int)">adjustForMetaData</a></strong>(int&nbsp;pages)</code>
<div class="block">Adjust a page request to include metadata requirements for a request
 of the given size.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#allocateContiguousChunks(int)">allocateContiguousChunks</a></strong>(int&nbsp;pages)</code>
<div class="block">Allocate sufficient contiguous chunks within a discontiguous region to
 satisfy the pending request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#allocPages(int,%20int,%20boolean)">allocPages</a></strong>(int&nbsp;reservedPages,
                    int&nbsp;requiredPages,
                    boolean&nbsp;zeroed)</code>
<div class="block">Allocate <code>pages</code> pages from this resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#freeContiguousChunk(org.vmmagic.unboxed.Address)">freeContiguousChunk</a></strong>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;chunk)</code>
<div class="block">Release a single chunk from a discontiguous region.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#getAvailablePhysicalPages()">getAvailablePhysicalPages</a></strong>()</code>
<div class="block">Return the number of available physical pages for this resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#getHighWater()">getHighWater</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#getSize(org.vmmagic.unboxed.Address)">getSize</a></strong>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;first)</code>
<div class="block">Return the size of the super page</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#releaseFreeChunks(org.vmmagic.unboxed.Address,%20int)">releaseFreeChunks</a></strong>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;freedPage,
                                  int&nbsp;pagesFreed)</code>
<div class="block">The release of a page may have freed up an entire chunk or
 set of chunks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#releasePages(org.vmmagic.unboxed.Address)">releasePages</a></strong>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;first)</code>
<div class="block">Release a group of pages, associated with this page resource,
 that were allocated together, optionally zeroing on release and
 optionally memory protecting on release.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#reserveMetaData(org.vmmagic.unboxed.Extent)">reserveMetaData</a></strong>(<a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;extent)</code>
<div class="block">Reserve virtual address space for meta-data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/mmtk/utility/heap/FreeListPageResource.html#resizeFreeList(org.vmmagic.unboxed.Address)">resizeFreeList</a></strong>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;startAddress)</code>
<div class="block">Resize the free list associated with this resource and nail down
 its start address.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.mmtk.utility.heap.PageResource">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.mmtk.utility.heap.<a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></h3>
<code><a href="../../../../org/mmtk/utility/heap/PageResource.html#clearRequest(int)">clearRequest</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#commitPages(int,%20int)">commitPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#committedPages()">committedPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#concurrentZeroing()">concurrentZeroing</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#cumulativeCommittedPages()">cumulativeCommittedPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#getNewPages(int,%20int,%20boolean)">getNewPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#lock()">lock</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#reservedPages()">reservedPages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#reservePages(int)">reservePages</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#skipConcurrentZeroing()">skipConcurrentZeroing</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#triggerConcurrentZeroing()">triggerConcurrentZeroing</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#unlock()">unlock</a>, <a href="../../../../org/mmtk/utility/heap/PageResource.html#updateZeroingApproach(boolean,%20boolean)">updateZeroingApproach</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="freeList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeList</h4>
<pre>private final&nbsp;<a href="../../../../org/mmtk/utility/GenericFreeList.html" title="class in org.mmtk.utility">GenericFreeList</a> <a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.37">freeList</a></pre>
</li>
</ul>
<a name="highWaterMark">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>highWaterMark</h4>
<pre>private&nbsp;int <a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.38">highWaterMark</a></pre>
</li>
</ul>
<a name="metaDataPagesPerRegion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metaDataPagesPerRegion</h4>
<pre>private final&nbsp;int <a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.39">metaDataPagesPerRegion</a></pre>
</li>
</ul>
<a name="pagesCurrentlyOnFreeList">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>pagesCurrentlyOnFreeList</h4>
<pre>private&nbsp;int <a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.40">pagesCurrentlyOnFreeList</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FreeListPageResource(org.mmtk.policy.Space, org.vmmagic.unboxed.Address, org.vmmagic.unboxed.Extent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FreeListPageResource</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.52">FreeListPageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                    <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start,
                    <a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;bytes)</pre>
<div class="block">Constructor

 Contiguous free list resource. The address range is pre-defined at
 initialization time and is immutable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>space</code> - The space to which this resource is attached</dd><dd><code>start</code> - The start of the address range allocated to this resource</dd><dd><code>bytes</code> - The size of the address rage allocated to this resource</dd></dl>
</li>
</ul>
<a name="FreeListPageResource(org.mmtk.policy.Space, org.vmmagic.unboxed.Address, org.vmmagic.unboxed.Extent, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FreeListPageResource</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.72">FreeListPageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                    <a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;start,
                    <a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;bytes,
                    int&nbsp;metaDataPagesPerRegion)</pre>
<div class="block">Constructor

 Contiguous free list resource. The address range is pre-defined at
 initialization time and is immutable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>space</code> - The space to which this resource is attached</dd><dd><code>start</code> - The start of the address range allocated to this resource</dd><dd><code>bytes</code> - The size of the address rage allocated to this resource</dd><dd><code>metaDataPagesPerRegion</code> - The number of pages of meta data
 that are embedded in each region.</dd></dl>
</li>
</ul>
<a name="FreeListPageResource(org.mmtk.policy.Space, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FreeListPageResource</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.90">FreeListPageResource</a>(<a href="../../../../org/mmtk/policy/Space.html" title="class in org.mmtk.policy">Space</a>&nbsp;space,
                    int&nbsp;metaDataPagesPerRegion)</pre>
<div class="block">Constructor

 Discontiguous monotone resource. The address range is <i>not</i>
 pre-defined at initialization time and is dynamically defined to
 be some set of pages, according to demand and availability.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>space</code> - The space to which this resource is attached</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAvailablePhysicalPages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAvailablePhysicalPages</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.118">getAvailablePhysicalPages</a>()</pre>
<div class="block">Return the number of available physical pages for this resource.
 This includes all pages currently free on the resource's free list.
 If the resource is using discontiguous space it also includes
 currently unassigned discontiguous space.<p>

 Note: This just considers physical pages (ie virtual memory pages
 allocated for use by this resource). This calculation is orthogonal
 to and does not consider any restrictions on the number of pages
 this resource may actually use at any time (ie the number of
 committed and reserved pages).<p>

 Note: The calculation is made on the assumption that all space that
 could be assigned to this resource would be assigned to this resource
 (ie the unused discontiguous space could just as likely be assigned
 to another competing resource).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/mmtk/utility/heap/PageResource.html#getAvailablePhysicalPages()">getAvailablePhysicalPages</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of available physical pages for this resource.</dd></dl>
</li>
</ul>
<a name="allocPages(int, int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocPages</h4>
<pre>protected&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.143">allocPages</a>(int&nbsp;reservedPages,
                 int&nbsp;requiredPages,
                 boolean&nbsp;zeroed)</pre>
<div class="block">Allocate <code>pages</code> pages from this resource.<p>

 If the request can be satisfied, then ensure the pages are
 mmpapped and zeroed before returning the address of the start of
 the region.  If the request cannot be satisfied, return zero.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/mmtk/utility/heap/PageResource.html#allocPages(int,%20int,%20boolean)">allocPages</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>reservedPages</code> - The number of pages reserved due to the initial request.</dd><dd><code>requiredPages</code> - The number of pages required to be allocated.</dd><dd><code>zeroed</code> - If true allocated pages are zeroed.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The start of the first page if successful, zero on
 failure.</dd></dl>
</li>
</ul>
<a name="releasePages(org.vmmagic.unboxed.Address)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releasePages</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.190">releasePages</a>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;first)</pre>
<div class="block">Release a group of pages, associated with this page resource,
 that were allocated together, optionally zeroing on release and
 optionally memory protecting on release.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>first</code> - The first page in the group of pages that were
 allocated together.</dd></dl>
</li>
</ul>
<a name="releaseFreeChunks(org.vmmagic.unboxed.Address, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseFreeChunks</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.227">releaseFreeChunks</a>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;freedPage,
                     int&nbsp;pagesFreed)</pre>
<div class="block">The release of a page may have freed up an entire chunk or
 set of chunks.  We need to check whether any chunks can be
 freed, and if so, free them.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>freedPage</code> - The address of the page that was just freed.</dd><dd><code>pagesFreed</code> - The number of pages made available when the page was freed.</dd></dl>
</li>
</ul>
<a name="allocateContiguousChunks(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocateContiguousChunks</h4>
<pre>private&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.262">allocateContiguousChunks</a>(int&nbsp;pages)</pre>
<div class="block">Allocate sufficient contiguous chunks within a discontiguous region to
 satisfy the pending request.  Note that this is purely about address space
 allocation within a discontiguous region.  This method does not reserve
 individual pages, it merely assigns a suitably large region of virtual
 memory from within the discontiguous region for use by a particular space.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pages</code> - The number of pages currently being requested</dd>
<dt><span class="strong">Returns:</span></dt><dd>A chunk number or GenericFreelist.FAILURE</dd></dl>
</li>
</ul>
<a name="freeContiguousChunk(org.vmmagic.unboxed.Address)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeContiguousChunk</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.294">freeContiguousChunk</a>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;chunk)</pre>
<div class="block">Release a single chunk from a discontiguous region.  All this does is
 release a chunk from the virtual address space associated with this
 discontiguous space.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>chunk</code> - The chunk to be freed</dd></dl>
</li>
</ul>
<a name="reserveMetaData(org.vmmagic.unboxed.Extent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserveMetaData</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.319">reserveMetaData</a>(<a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;extent)</pre>
<div class="block">Reserve virtual address space for meta-data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>extent</code> - The size of this space</dd></dl>
</li>
</ul>
<a name="adjustForMetaData(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustForMetaData</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.344">adjustForMetaData</a>(int&nbsp;pages)</pre>
<div class="block">Adjust a page request to include metadata requirements for a request
 of the given size. This must be a pure function, that is it does not
 depend on the state of the PageResource.<p>
 In the case of a free-list allocator, meta-data is pre-allocated, so
 simply return the un-adjusted request size.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/mmtk/utility/heap/PageResource.html#adjustForMetaData(int)">adjustForMetaData</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/mmtk/utility/heap/PageResource.html" title="class in org.mmtk.utility.heap">PageResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pages</code> - The size of the pending allocation in pages</dd>
<dt><span class="strong">Returns:</span></dt><dd>The (unadjusted) request size, since metadata is pre-allocated</dd></dl>
</li>
</ul>
<a name="getHighWater()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHighWater</h4>
<pre>public&nbsp;<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.346">getHighWater</a>()</pre>
</li>
</ul>
<a name="getSize(org.vmmagic.unboxed.Address)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;<a href="../../../../org/vmmagic/unboxed/Extent.html" title="class in org.vmmagic.unboxed">Extent</a>&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.357">getSize</a>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;first)</pre>
<div class="block">Return the size of the super page</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>first</code> - the Address of the first word in the superpage</dd>
<dt><span class="strong">Returns:</span></dt><dd>the size in bytes</dd></dl>
</li>
</ul>
<a name="resizeFreeList(org.vmmagic.unboxed.Address)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>resizeFreeList</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/mmtk/utility/heap/FreeListPageResource.html#line.376">resizeFreeList</a>(<a href="../../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;startAddress)</pre>
<div class="block">Resize the free list associated with this resource and nail down
 its start address. This method is called to re-set the free list
 once the global free list (which it shares) is finalized and the
 base address is finalized.  There's a circular dependency, so we
 need an explicit call-back to reset the free list size and start</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>startAddress</code> - The final start address for the discontiguous space.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FreeListPageResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/mmtk/utility/heap/ConcurrentZeroingContext.html" title="class in org.mmtk.utility.heap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/mmtk/utility/heap/HeapGrowthManager.html" title="class in org.mmtk.utility.heap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/mmtk/utility/heap/FreeListPageResource.html" target="_top">Frames</a></li>
<li><a href="FreeListPageResource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
