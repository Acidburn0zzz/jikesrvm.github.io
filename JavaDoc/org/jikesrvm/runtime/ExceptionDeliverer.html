<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>ExceptionDeliverer (Jikes RVM API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ExceptionDeliverer (Jikes RVM API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ExceptionDeliverer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jikesrvm/runtime/Entrypoints.html" title="class in org.jikesrvm.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jikesrvm/runtime/ExitStatus.html" title="interface in org.jikesrvm.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jikesrvm/runtime/ExceptionDeliverer.html" target="_top">Frames</a></li>
<li><a href="ExceptionDeliverer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jikesrvm.runtime</div>
<h2 title="Class ExceptionDeliverer" class="title">Class ExceptionDeliverer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.jikesrvm.runtime.ExceptionDeliverer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../org/jikesrvm/compilers/baseline/ia32/BaselineExceptionDeliverer.html" title="class in org.jikesrvm.compilers.baseline.ia32">BaselineExceptionDeliverer</a>, <a href="../../../org/jikesrvm/jni/ia32/JNIExceptionDeliverer.html" title="class in org.jikesrvm.jni.ia32">JNIExceptionDeliverer</a>, <a href="../../../org/jikesrvm/compilers/opt/runtimesupport/ia32/OptExceptionDeliverer.html" title="class in org.jikesrvm.compilers.opt.runtimesupport.ia32">OptExceptionDeliverer</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <a href="../../../src-html/org/jikesrvm/runtime/ExceptionDeliverer.html#line.38">ExceptionDeliverer</a>
extends <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Interface for exception delivery called by RuntimeEntrypoints.deliverException() to
 pass control to a stackframe whose method has an appropriate "catch" block
 or to step over a stackframe that does not have an appropriate catch block.
 <p>
 The exception delivery implementation is specific to the compiler
 that generated the method's machine instructions.
 <p>
 Note that the "deliverException" and "unwindStackFrame" methods of this
 class will be called in an environment that does not permit garbage
 collection: see VM.disableGC().
 We must do this because some of the parameters to these methods are raw
 machine addresses. They are not recognized by the garbage collector as
 Object references and so would not be correctly fixed up in the event of
 object motion during GC. As a
 consequence, implementors of these methods must not cause object allocations
 to take place (i.e. by calling "new" either directly or indirectly).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/jikesrvm/runtime/ExceptionDeliverer.html#ExceptionDeliverer()">ExceptionDeliverer</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/runtime/ExceptionDeliverer.html#deliverException(org.jikesrvm.compilers.common.CompiledMethod,%20org.vmmagic.unboxed.Address,%20java.lang.Throwable,%20org.jikesrvm.ArchitectureSpecific.Registers)">deliverException</a></strong>(<a href="../../../org/jikesrvm/compilers/common/CompiledMethod.html" title="class in org.jikesrvm.compilers.common">CompiledMethod</a>&nbsp;compiledMethod,
                                <a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;catchBlockInstructionAddress,
                                <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;exceptionObject,
                                <a href="../../../org/jikesrvm/ArchitectureSpecific.Registers.html" title="class in org.jikesrvm">ArchitectureSpecific.Registers</a>&nbsp;registers)</code>
<div class="block">Stackframe's method has a "catch" block for exception being
 thrown and control is to be passed to that catch block.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jikesrvm/runtime/ExceptionDeliverer.html#unwindStackFrame(org.jikesrvm.compilers.common.CompiledMethod,%20org.jikesrvm.ArchitectureSpecific.Registers)">unwindStackFrame</a></strong>(<a href="../../../org/jikesrvm/compilers/common/CompiledMethod.html" title="class in org.jikesrvm.compilers.common">CompiledMethod</a>&nbsp;compiledMethod,
                                <a href="../../../org/jikesrvm/ArchitectureSpecific.Registers.html" title="class in org.jikesrvm">ArchitectureSpecific.Registers</a>&nbsp;registers)</code>
<div class="block">Stackframe's method has no "catch" block for exception being thrown
 and stackframe is to be "unwound" as follows:

 
  1. for a synchronized method, call ObjectModel.genericUnlock(),
     passing it the appropriate "lock" object
     
       for non-static methods, the lock is the method's
         first argument ("this")
       for static methods, the lock is the method's java.lang.Class
     

  2. restore the non-volatile registers (including fp) that were saved
     in the method's prologue, by copying them from the method's stackframe
     save area into the provided "registers" object
 </div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ExceptionDeliverer()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ExceptionDeliverer</h4>
<pre>public&nbsp;<a href="../../../src-html/org/jikesrvm/runtime/ExceptionDeliverer.html#line.38">ExceptionDeliverer</a>()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="deliverException(org.jikesrvm.compilers.common.CompiledMethod, org.vmmagic.unboxed.Address, java.lang.Throwable, org.jikesrvm.ArchitectureSpecific.Registers)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deliverException</h4>
<pre>public abstract&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/runtime/ExceptionDeliverer.html#line.64">deliverException</a>(<a href="../../../org/jikesrvm/compilers/common/CompiledMethod.html" title="class in org.jikesrvm.compilers.common">CompiledMethod</a>&nbsp;compiledMethod,
                    <a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a>&nbsp;catchBlockInstructionAddress,
                    <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;exceptionObject,
                    <a href="../../../org/jikesrvm/ArchitectureSpecific.Registers.html" title="class in org.jikesrvm">ArchitectureSpecific.Registers</a>&nbsp;registers)</pre>
<div class="block">Stackframe's method has a "catch" block for exception being
 thrown and control is to be passed to that catch block.

 <p> Note:
   Implementers must issue the following two lines just before
   transferring control to the catch block:

 <pre>
           VM.enableGC();
           registers.inuse = false;
 </pre>

 <p> Note: this method does not return
 (execution resumes at catchBlockInstructionAddress)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>compiledMethod</code> - method whose catch block is to receive control</dd><dd><code>catchBlockInstructionAddress</code> - instruction address at which
 to begin execution of catch block</dd><dd><code>exceptionObject</code> - exception object to be passed as argument to
 catch block</dd><dd><code>registers</code> - registers to be loaded before passing control to
 catch block</dd></dl>
</li>
</ul>
<a name="unwindStackFrame(org.jikesrvm.compilers.common.CompiledMethod, org.jikesrvm.ArchitectureSpecific.Registers)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>unwindStackFrame</h4>
<pre>public abstract&nbsp;void&nbsp;<a href="../../../src-html/org/jikesrvm/runtime/ExceptionDeliverer.html#line.90">unwindStackFrame</a>(<a href="../../../org/jikesrvm/compilers/common/CompiledMethod.html" title="class in org.jikesrvm.compilers.common">CompiledMethod</a>&nbsp;compiledMethod,
                    <a href="../../../org/jikesrvm/ArchitectureSpecific.Registers.html" title="class in org.jikesrvm">ArchitectureSpecific.Registers</a>&nbsp;registers)</pre>
<div class="block">Stackframe's method has no "catch" block for exception being thrown
 and stackframe is to be "unwound" as follows:

 <ul>
 <li> 1. for a synchronized method, call ObjectModel.genericUnlock(),
     passing it the appropriate "lock" object
     <ul>
       <li>for non-static methods, the lock is the method's
         first argument ("this")
       <li>for static methods, the lock is the method's java.lang.Class
     </ul>

 <li> 2. restore the non-volatile registers (including fp) that were saved
     in the method's prologue, by copying them from the method's stackframe
     save area into the provided "registers" object
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>compiledMethod</code> - method whose stackframe is to be unwound</dd><dd><code>registers</code> - thread state to be updated by restoring non-volatiles
                  and unwinding the stackframe</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ExceptionDeliverer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jikesrvm/runtime/Entrypoints.html" title="class in org.jikesrvm.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jikesrvm/runtime/ExitStatus.html" title="interface in org.jikesrvm.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jikesrvm/runtime/ExceptionDeliverer.html" target="_top">Frames</a></li>
<li><a href="ExceptionDeliverer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
