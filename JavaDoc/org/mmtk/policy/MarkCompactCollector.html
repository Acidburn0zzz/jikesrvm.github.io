<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MarkCompactCollector (Jikes RVM API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MarkCompactCollector (Jikes RVM API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MarkCompactCollector.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/mmtk/policy/LargeObjectSpace.html" title="class in org.mmtk.policy"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/mmtk/policy/MarkCompactCollector.FromCursor.html" title="class in org.mmtk.policy"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/mmtk/policy/MarkCompactCollector.html" target="_top">Frames</a></li>
<li><a href="MarkCompactCollector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.mmtk.policy</div>
<h2 title="Class MarkCompactCollector" class="title">Class MarkCompactCollector</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.mmtk.policy.MarkCompactCollector</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.46">MarkCompactCollector</a>
extends <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class implements unsynchronized (local) per-collector-thread elements of a
 sliding mark-compact collector.
<p>
 Specifically, this class provides the methods that
 <ul>
  <li>Calculate the forwarding pointers for heap objects, in a linear pass over
   (part of) the heap</li>
  <li>Performs the compaction pass over the heap.</li>
 </ul>
<p>
 Each collector thread maintains a private list of the pages that it compacts.
 If it runs out of work during the calculateForwardingPointers pass, it requests
 a new region from the global MarkCompactSpace.  Regions compacted by a collector
 remain local to the collector.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/mmtk/policy/MarkCompactSpace.html" title="class in org.mmtk.policy"><code>MarkCompactSpace</code></a>, 
<a href="../../../org/mmtk/policy/MarkCompactLocal.html" title="class in org.mmtk.policy"><code>MarkCompactLocal</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.FromCursor.html" title="class in org.mmtk.policy">MarkCompactCollector.FromCursor</a></span></code>
<div class="block">Subclass for the read-only cursor that leads the scan of regions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.RegionCursor.html" title="class in org.mmtk.policy">MarkCompactCollector.RegionCursor</a></span></code>
<div class="block">Both the 'compact' and 'calculate' phases can be thought of as sweeping
 a pair of cursors across a linked list of regions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.ToCursor.html" title="class in org.mmtk.policy">MarkCompactCollector.ToCursor</a></span></code>
<div class="block">Subclass for the read-only cursor that follows the 'from' cursor,
 writing or calculating the position of copied objects</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../org/mmtk/policy/MarkCompactCollector.FromCursor.html" title="class in org.mmtk.policy">MarkCompactCollector.FromCursor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.html#fromCursor">fromCursor</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.html#regions">regions</a></span></code>
<div class="block">This collector's work list</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../org/mmtk/policy/MarkCompactSpace.html" title="class in org.mmtk.policy">MarkCompactSpace</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.html#space">space</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../org/mmtk/policy/MarkCompactCollector.ToCursor.html" title="class in org.mmtk.policy">MarkCompactCollector.ToCursor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.html#toCursor">toCursor</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.html#VERBOSE">VERBOSE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.html#VERY_VERBOSE">VERY_VERBOSE</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.html#MarkCompactCollector-org.mmtk.policy.MarkCompactSpace-">MarkCompactCollector</a></span>(<a href="../../../org/mmtk/policy/MarkCompactSpace.html" title="class in org.mmtk.policy">MarkCompactSpace</a>&nbsp;space)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.html#calculateForwardingPointers--">calculateForwardingPointers</a></span>()</code>
<div class="block">Perform a linear scan through the objects allocated by this bump pointer,
 calculating where each live object will be post collection.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmtk/policy/MarkCompactCollector.html#compact--">compact</a></span>()</code>
<div class="block">Perform the compacting phase of the collection.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="VERBOSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VERBOSE</h4>
<pre>static final&nbsp;boolean <a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.48">VERBOSE</a></pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.mmtk.policy.MarkCompactCollector.VERBOSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="VERY_VERBOSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VERY_VERBOSE</h4>
<pre>static final&nbsp;boolean <a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.50">VERY_VERBOSE</a></pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.mmtk.policy.MarkCompactCollector.VERY_VERBOSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="space">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>space</h4>
<pre>private final&nbsp;<a href="../../../org/mmtk/policy/MarkCompactSpace.html" title="class in org.mmtk.policy">MarkCompactSpace</a> <a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.52">space</a></pre>
</li>
</ul>
<a name="regions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regions</h4>
<pre>private&nbsp;<a href="../../../org/vmmagic/unboxed/Address.html" title="class in org.vmmagic.unboxed">Address</a> <a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.57">regions</a></pre>
<div class="block">This collector's work list</div>
</li>
</ul>
<a name="fromCursor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fromCursor</h4>
<pre>private final&nbsp;<a href="../../../org/mmtk/policy/MarkCompactCollector.FromCursor.html" title="class in org.mmtk.policy">MarkCompactCollector.FromCursor</a> <a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.59">fromCursor</a></pre>
</li>
</ul>
<a name="toCursor">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toCursor</h4>
<pre>private final&nbsp;<a href="../../../org/mmtk/policy/MarkCompactCollector.ToCursor.html" title="class in org.mmtk.policy">MarkCompactCollector.ToCursor</a> <a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.60">toCursor</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MarkCompactCollector-org.mmtk.policy.MarkCompactSpace-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MarkCompactCollector</h4>
<pre>public&nbsp;<a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.67">MarkCompactCollector</a>(<a href="../../../org/mmtk/policy/MarkCompactSpace.html" title="class in org.mmtk.policy">MarkCompactSpace</a>&nbsp;space)</pre>
<div class="block">Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>space</code> - The space to bump point into.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="calculateForwardingPointers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateForwardingPointers</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.425">calculateForwardingPointers</a>()</pre>
<div class="block">Perform a linear scan through the objects allocated by this bump pointer,
 calculating where each live object will be post collection.<p>

 We maintain two cursors, <code>fromCursor</code> and <code>toCursor</code>, and simulate
 copying live objects from the former to the latter.  Initially, the cursors
 point to the first region in this collector's local list, and increment in
 lockstep until the first dead object is encountered.  After that, the to cursor
 trails the from cursor.<p>

 The outer loop advances the 'from' pointer</div>
</li>
</ul>
<a name="compact--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>compact</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/mmtk/policy/MarkCompactCollector.html#line.491">compact</a>()</pre>
<div class="block">Perform the compacting phase of the collection.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MarkCompactCollector.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/mmtk/policy/LargeObjectSpace.html" title="class in org.mmtk.policy"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/mmtk/policy/MarkCompactCollector.FromCursor.html" title="class in org.mmtk.policy"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/mmtk/policy/MarkCompactCollector.html" target="_top">Frames</a></li>
<li><a href="MarkCompactCollector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
