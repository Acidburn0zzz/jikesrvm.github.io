<!DOCTYPE html>
<html>
    <head>
        <title>RVM : Updating the Website</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">RVM</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home_71108.html">Home</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            RVM : Updating the Website
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> Peter Donald</span>, last modified by <span class='editor'> David Grove</span> on Sep 27, 2012
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>The website is made up of two different types of content; static content and pages generated from Confluence. The static content must be uploaded using either webdav or rsync. <a href="http://docs.codehaus.org/display/HAUSMATES/Unity" rel="nofollow">Unity</a> is the front-end renderer for Confluence that processes page content from Confluence to build &quot;attractive&quot; user facing sites projects.</p><h2 id="UpdatingtheWebsite-StaticContent">Static Content</h2><p>The static site must be uploaded via webdav (<a href="https://dav.codehaus.org/rvm/" class="external-link" rel="nofollow">webdavs://dav.codehaus.org/rvm/</a>) or via <a href="http://xircles.codehaus.org/projects/rvm/rsync" class="external-link" rel="nofollow">rsync</a>. The system requires that you have a <a href="http://xircles.codehaus.org" class="external-link" rel="nofollow">xircles</a> account and that are registered as a developer for the <a href="http://xircles.codehaus.org/projects/rvm" class="external-link" rel="nofollow">rvm project</a>.</p><p>At the time of writing the rsync setup is restricted so that you can only update from the base of the site and only using ssh which you must setup keys for in <a href="http://xircles.codehaus.org" class="external-link" rel="nofollow">xircles</a>. So if you wanted to upload a directory <code>docs/api</code> to the website one possible command for doing this is</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>rsync -azvLe ssh --delete -C --exclude .htaccess --include docs/api ../site/ &lt;userid&gt;@rvm.codehaus.org:/projects/rvm/web/
</pre>
</div></div><h2 id="UpdatingtheWebsite-ConfluenceContent">Confluence Content</h2><p>To update the content generated from Confluence it is simply a matter of updating <a href="Wiki_74256.html">Confluence</a>. Unity caches generated content to improve performance but you can force Unity to regenerate a page by adding the suffix <code>?nc</code>. The template used to format the generated content can also be edited. The templates are stored in Mercurial at <a href="http://hg.code.sourceforge.net/p/jikesrvm/code/file/tip/docs/unity" class="external-link" rel="nofollow">docs/unity</a> directory and can be uploaded to the website using the following command;</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>rsync -v -azvLe ssh -C --exclude .svn $RVM_ROOT/docs/unity/ &lt;userid&gt;@rvm.codehaus.org:/projects/rvm/web/
</pre>
</div></div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 30, 2015 16:28</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
